---
title: Voice Call Setup for OpenClaw - Twilio, STT & TTS Configuration
description: Complete guide to setting up voice calls in OpenClaw with Twilio integration, speech-to-text (STT) via Deepgram/Whisper, and text-to-speech (TTS) using OpenAI or ElevenLabs.
slug: /voice-call-setup
tags: voice-call, twilio, tts, stt, deepgram, elevenlabs, openai, telephony
publishedAt: 2025-02-15
status: published
visibility: public
featuredImageUrl: /images/features/voice-call-setup.webp
---

# Voice Call Setup for OpenClaw: Twilio, STT & TTS Configuration

Want your AI assistant to make and receive phone calls? OpenClaw's Voice Call plugin enables real voice conversations through Twilio, with professional-grade speech-to-text (STT) and text-to-speech (TTS) integration.

This guide walks you through the complete setup: from installing the plugin to configuring Twilio webhooks, STT providers (Deepgram, OpenAI Whisper, Groq), and TTS voices (OpenAI, ElevenLabs).

## Prerequisites

Before you begin, ensure you have:

- OpenClaw Gateway running (v1.0+)
- A Twilio account with a phone number
- API keys for your preferred STT/TTS providers
- A publicly accessible webhook URL (via ngrok, Tailscale, or a VPS)

## Step 1: Install the Voice Call Plugin

The Voice Call plugin runs inside the Gateway process. Install it using the OpenClaw CLI:

```bash
openclaw plugins install @openclaw/voice-call
```

After installation, restart your Gateway:

```bash
openclaw gateway restart
```

Verify the plugin is loaded:

```bash
openclaw status
```

You should see `voice-call` listed under active plugins.

## Step 2: Configure Twilio

First, gather your Twilio credentials from the [Twilio Console](https://console.twilio.com):

- **Account SID**: Found on the dashboard
- **Auth Token**: Found on the dashboard
- **Phone Number**: A Twilio number with Voice capability

Add the Twilio configuration to your `openclaw.json`:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        enabled: true,
        config: \{
          provider: "twilio",
          fromNumber: "+15550001234", // Your Twilio number
          toNumber: "+15550005678",   // Default recipient (optional)
          
          twilio: \{
            accountSid: "ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
            authToken: "your_auth_token_here",
          \},
        \},
      \},
    \},
  \},
\}
```

## Step 3: Set Up Webhooks

Twilio needs to reach your OpenClaw instance to deliver call events. You have three options:

### Option A: ngrok (Development)

For local development, use ngrok:

```bash
ngrok http 3334
```

Then set the public URL in your config:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        config: \{
          publicUrl: "https://abc123.ngrok.app/voice/webhook",
          
          serve: \{
            port: 3334,
            path: "/voice/webhook",
          \},
        \},
      \},
    \},
  \},
\}
```

### Option B: Tailscale Funnel (Recommended)

Tailscale Funnel provides a stable, secure endpoint:

```bash
openclaw voicecall expose --mode funnel
```

Configure in `openclaw.json`:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        config: \{
          tailscale: \{
            mode: "funnel",
            path: "/voice/webhook",
          \},
          
          serve: \{
            port: 3334,
            path: "/voice/webhook",
          \},
        \},
      \},
    \},
  \},
\}
```

### Option C: VPS with Reverse Proxy

For production, use a VPS with nginx:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        config: \{
          publicUrl: "https://voice.example.com/voice/webhook",
          
          webhookSecurity: \{
            allowedHosts: ["voice.example.com"],
            trustedProxyIPs: ["100.64.0.1"],
          \},
          
          serve: \{
            port: 3334,
            path: "/voice/webhook",
          \},
        \},
      \},
    \},
  \},
\}
```

## Step 4: Configure Speech-to-Text (STT)

STT converts incoming speech to text. OpenClaw supports multiple providers with automatic fallback.

### Option A: Deepgram (Recommended)

Deepgram offers excellent accuracy and speed:

```json5
\{
  tools: \{
    media: \{
      audio: \{
        enabled: true,
        models: [\{ provider: "deepgram", model: "nova-3" \}],
        providerOptions: \{
          deepgram: \{
            detect_language: true,
            punctuate: true,
            smart_format: true,
          \},
        \},
      \},
    \},
  \},
\}
```

Set your API key:

```bash
export DEEPGRAM_API_KEY="dg_xxxxxxxxxxxxxxxx"
```

### Option B: OpenAI Whisper

For OpenAI integration:

```json5
\{
  tools: \{
    media: \{
      audio: \{
        enabled: true,
        models: [\{ provider: "openai", model: "gpt-4o-mini-transcribe" \}],
      \},
    \},
  \},
\}
```

Or use the higher-accuracy model:

```json5
\{
  tools: \{
    media: \{
      audio: \{
        models: [\{ provider: "openai", model: "gpt-4o-transcribe" \}],
      \},
    \},
  \},
\}
```

### Option C: Groq (Fast & Free-ish)

Groq offers fast Whisper inference:

```json5
\{
  tools: \{
    media: \{
      audio: \{
        enabled: true,
        models: [\{ provider: "groq", model: "whisper-large-v3-turbo" \}],
      \},
    \},
  \},
\}
```

### Option D: Local Whisper CLI (Offline)

For privacy-focused setups, use local Whisper:

```json5
\{
  tools: \{
    media: \{
      audio: \{
        enabled: true,
        models: [
          \{
            type: "cli",
            command: "whisper",
            args: ["--model", "base", "\{\{MediaPath\}\}"],
            timeoutSeconds: 45,
          \},
        ],
      \},
    \},
  \},
\}
```

### Multi-Provider Fallback

Configure multiple providers for resilience:

```json5
\{
  tools: \{
    media: \{
      audio: \{
        enabled: true,
        maxBytes: 20971520,
        models: [
          \{ provider: "openai", model: "gpt-4o-mini-transcribe" \},
          \{ provider: "deepgram", model: "nova-3" \},
          \{
            type: "cli",
            command: "whisper",
            args: ["--model", "base", "\{\{MediaPath\}\}"],
            timeoutSeconds: 45,
          \},
        ],
      \},
    \},
  \},
\}
```

## Step 5: Configure Text-to-Speech (TTS)

TTS converts the AI's responses to speech during calls. Voice Call uses the core `messages.tts` configuration with optional overrides.

### Option A: OpenAI TTS

Clean, natural voices:

```json5
\{
  messages: \{
    tts: \{
      auto: "always",
      provider: "openai",
      openai: \{
        model: "gpt-4o-mini-tts",
        voice: "alloy", // Options: alloy, echo, fable, onyx, nova, shimmer
      \},
    \},
  \},
\}
```

### Option B: ElevenLabs (Premium Voices)

For ultra-realistic voices:

```json5
\{
  messages: \{
    tts: \{
      auto: "always",
      provider: "elevenlabs",
      elevenlabs: \{
        apiKey: "your_elevenlabs_key",
        voiceId: "pMsXgVXv3BLzUgSXRplE",
        modelId: "eleven_multilingual_v2",
        voiceSettings: \{
          stability: 0.5,
          similarityBoost: 0.75,
          speed: 1.0,
        \},
      \},
    \},
  \},
\}
```

### Override TTS for Voice Calls Only

Keep different voices for calls vs. chat:

```json5
\{
  messages: \{
    tts: \{
      auto: "always",
      provider: "openai",
      openai: \{ voice: "nova" \},
    \},
  \},
  
  plugins: \{
    entries: \{
      "voice-call": \{
        config: \{
          tts: \{
            provider: "elevenlabs",
            elevenlabs: \{
              voiceId: "pMsXgVXv3BLzUgSXRplE",
              modelId: "eleven_v3",
            \},
          \},
        \},
      \},
    \},
  \},
\}
```

**Important**: Edge TTS is **not supported** for voice calls (telephony requires PCM audio format).

## Step 6: Enable Inbound Calls

By default, inbound calls are disabled. To allow incoming calls:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        config: \{
          inboundPolicy: "allowlist",
          allowFrom: ["+15550001234", "+15550005678"],
          inboundGreeting: "Hello! This is your AI assistant. How can I help you today?",
        \},
      \},
    \},
  \},
\}
```

## Step 7: Enable Media Streaming

For real-time voice interaction, enable Twilio Media Streams:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        config: \{
          streaming: \{
            enabled: true,
            streamPath: "/voice/stream",
          \},
        \},
      \},
    \},
  \},
\}
```

## Complete Configuration Example

Here's a full configuration bringing everything together:

```json5
\{
  // STT Configuration
  tools: \{
    media: \{
      audio: \{
        enabled: true,
        maxBytes: 20971520,
        models: [
          \{ provider: "deepgram", model: "nova-3" \},
          \{ provider: "openai", model: "gpt-4o-mini-transcribe" \},
        ],
        providerOptions: \{
          deepgram: \{
            detect_language: true,
            punctuate: true,
          \},
        \},
      \},
    \},
  \},
  
  // TTS Configuration
  messages: \{
    tts: \{
      auto: "always",
      provider: "openai",
      openai: \{
        model: "gpt-4o-mini-tts",
        voice: "alloy",
      \},
    \},
  \},
  
  // Voice Call Plugin
  plugins: \{
    entries: \{
      "voice-call": \{
        enabled: true,
        config: \{
          provider: "twilio",
          fromNumber: "+15550001234",
          
          twilio: \{
            accountSid: "ACxxxxxxxx",
            authToken: "your_auth_token",
          \},
          
          serve: \{
            port: 3334,
            path: "/voice/webhook",
          \},
          
          publicUrl: "https://voice.example.com/voice/webhook",
          
          webhookSecurity: \{
            allowedHosts: ["voice.example.com"],
          \},
          
          outbound: \{
            defaultMode: "conversation",
          \},
          
          inboundPolicy: "allowlist",
          allowFrom: ["+15550001234"],
          inboundGreeting: "Hello! How can I help?",
          
          streaming: \{
            enabled: true,
            streamPath: "/voice/stream",
          \},
          
          // Optional: Override TTS for calls
          tts: \{
            provider: "elevenlabs",
            elevenlabs: \{
              voiceId: "pMsXgVXv3BLzUgSXRplE",
              modelId: "eleven_multilingual_v2",
            \},
          \},
        \},
      \},
    \},
  \},
\}
```

## Making Your First Call

Test your setup with the CLI:

```bash
# Make an outbound call
openclaw voicecall call --to "+15555550123" --message "Hello! This is a test from OpenClaw."

# Check call status
openclaw voicecall status --call-id <call-id>

# Monitor live calls
openclaw voicecall tail
```

Or use the agent tool in conversations:

```
You: Call John and remind him about the meeting tomorrow.
Agent: [Uses voice_call tool to initiate the call]
```

## Troubleshooting

### Webhook Not Receiving Events

1. Verify your `publicUrl` is reachable from the internet
2. Check that Twilio signature verification is passing
3. For ngrok, ensure the URL matches exactly (no trailing slash mismatch)

### Poor Audio Quality

1. Ensure you're using OpenAI or ElevenLabs (not Edge TTS)
2. Check your network latency to TTS providers
3. Enable media streaming for real-time interaction

### STT Not Working

1. Verify your provider API key is set correctly
2. Check `tools.media.audio.enabled: true`
3. Try the fallback chain: Deepgram â†’ OpenAI â†’ Groq â†’ Local Whisper

### Call Drops Immediately

1. Check Twilio Console for error logs
2. Verify your webhook returns valid TwiML
3. Ensure your Twilio number has Voice capability

## Next Steps

- Configure [multi-turn conversations](/blog/multi-agent-setup) with context retention
- Set up [scheduled calls](/blog/cron-job-best-practices) with cron jobs
- Explore alternative providers: Telnyx, Plivo

## Summary

You've now configured OpenClaw for voice calls with:

- âœ… **Twilio** for telephony infrastructure
- âœ… **STT** via Deepgram, OpenAI Whisper, or Groq
- âœ… **TTS** via OpenAI or ElevenLabs
- âœ… **Webhooks** for real-time call handling
- âœ… **Inbound policies** for receiving calls

Your AI assistant can now talk on the phone! ðŸŽ‰
