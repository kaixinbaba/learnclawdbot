---
title: OpenClaw Slack é›†æˆ - æœºå™¨äººã€é¢‘é“ä¸ä¼ä¸šçº§é…ç½®å®Œæ•´æŒ‡å—
description: å®Œæ•´æŒ‡å—ï¼šè¿æ¥ OpenClaw ä¸ Slackã€‚æ¶µç›– Socket Modeã€HTTP webhooksã€Bot Tokenã€DM ç­–ç•¥ã€é¢‘é“ç™½åå•ã€çº¿ç¨‹ã€æ–œæ å‘½ä»¤å’Œå¤šå·¥ä½œåŒºé…ç½®ã€‚
slug: /slack-integration
publishedAt: 2025-02-15
status: published
visibility: public
featuredImageUrl: /images/features/slack-integration.webp
---

# OpenClaw Slack é›†æˆï¼šå®Œæ•´é…ç½®æŒ‡å—

å°†ä½ çš„ AI åŠ©æ‰‹å¼•å…¥ Slackï¼Œåœ¨é¢‘é“ã€ç§ä¿¡å’Œçº¿ç¨‹ä¸­åä½œã€‚OpenClaw æ·±åº¦é›†æˆ Slack çš„å·¥ä½œåŒºæ¨¡å‹â€”â€”æ”¯æŒä¾¿æ·è®¾ç½®çš„ Socket Modeã€ç”Ÿäº§ç¯å¢ƒçš„ HTTP webhooksï¼Œä»¥åŠä¼ä¸šçº§çš„ç²¾ç»†è®¿é—®æ§åˆ¶ã€‚

æœ¬æŒ‡å—æ¶µç›–æ‰€æœ‰å†…å®¹ï¼šä»åˆ›å»º Slack åº”ç”¨åˆ°é…ç½®é¢‘é“æƒé™ã€çº¿ç¨‹è¡Œä¸ºã€æ–œæ å‘½ä»¤å’Œå¤šå·¥ä½œåŒºéƒ¨ç½²ã€‚

## å·¥ä½œåŸç†

OpenClaw é€šè¿‡ Slack API è¿æ¥ï¼Œæ”¯æŒä¸¤ç§æ¨¡å¼ï¼š

- **Socket Mode**ï¼ˆæ¨èï¼‰ï¼šå®æ—¶ WebSocket è¿æ¥ï¼Œæ— éœ€å…¬å¼€ URL
- **HTTP Mode**ï¼šEvents API webhooksï¼Œé€‚ç”¨äºç”Ÿäº§éƒ¨ç½²

ä¸¤ç§æ¨¡å¼éƒ½æ”¯æŒç§ä¿¡ã€é¢‘é“ã€çº¿ç¨‹ã€ååº”ã€æ–‡ä»¶ä¸Šä¼ å’Œæ–œæ å‘½ä»¤ã€‚

## å‰ç½®æ¡ä»¶

å¼€å§‹ä¹‹å‰ï¼š

- OpenClaw Gateway å·²å®‰è£…å¹¶è¿è¡Œ
- æ‹¥æœ‰ç®¡ç†å‘˜æƒé™çš„ Slack å·¥ä½œåŒºï¼ˆç”¨äºåˆ›å»ºåº”ç”¨ï¼‰
- äº†è§£ Slack çš„é¢‘é“ä¸ç§ä¿¡æ¨¡å‹

## å¿«é€Ÿå¼€å§‹ï¼ˆSocket Modeï¼‰

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Slack åº”ç”¨

1. è®¿é—® [api.slack.com/apps](https://api.slack.com/apps)
2. ç‚¹å‡» **Create New App** â†’ **From scratch**
3. å‘½åä¸º "OpenClaw" å¹¶é€‰æ‹©ä½ çš„å·¥ä½œåŒº

### ç¬¬äºŒæ­¥ï¼šå¯ç”¨ Socket Mode

1. è¿›å…¥ **Settings â†’ Socket Mode**
2. å¼€å¯ **Enable Socket Mode**
3. è¿›å…¥ **Basic Information â†’ App-Level Tokens**
4. ç‚¹å‡» **Generate Token and Scopes**
5. æ·»åŠ  scope `connections:write`
6. å¤åˆ¶ **App Token** (`xapp-...`)

### ç¬¬ä¸‰æ­¥ï¼šé…ç½® OAuth æƒé™

1. è¿›å…¥ **OAuth & Permissions**
2. æ·»åŠ è¿™äº› **Bot Token Scopes**ï¼š
   - `chat:write` â€” å‘é€æ¶ˆæ¯
   - `channels:history`, `channels:read` â€” è¯»å–é¢‘é“
   - `groups:history`, `groups:read` â€” è¯»å–ç§æœ‰é¢‘é“
   - `im:history`, `im:read`, `im:write` â€” ç§ä¿¡
   - `mpim:history`, `mpim:read`, `mpim:write` â€” ç¾¤ç»„ç§ä¿¡
   - `users:read` â€” ç”¨æˆ·ä¿¡æ¯
   - `reactions:read`, `reactions:write` â€” ååº”
   - `app_mentions:read` â€” @æåŠ
   - `commands` â€” æ–œæ å‘½ä»¤
   - `files:read`, `files:write` â€” æ–‡ä»¶å¤„ç†
3. ç‚¹å‡» **Install to Workspace**
4. å¤åˆ¶ **Bot User OAuth Token** (`xoxb-...`)

### ç¬¬å››æ­¥ï¼šè®¢é˜…äº‹ä»¶

1. è¿›å…¥ **Event Subscriptions**
2. å¼€å¯ **Enable Events**
3. åœ¨ **Subscribe to bot events** ä¸‹æ·»åŠ ï¼š
   - `message.channels`, `message.groups`, `message.im`, `message.mpim`
   - `app_mention`
   - `reaction_added`, `reaction_removed`

### ç¬¬äº”æ­¥ï¼šå¯ç”¨ App Home

1. è¿›å…¥ **App Home**
2. å¯ç”¨ **Messages Tab**ï¼ˆå…è®¸ç”¨æˆ·ç§ä¿¡æœºå™¨äººï¼‰

### ç¬¬å…­æ­¥ï¼šé…ç½® OpenClaw

é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½® tokenï¼š

```bash
export SLACK_APP_TOKEN="xapp-..."
export SLACK_BOT_TOKEN="xoxb-..."
```

æˆ–åœ¨ `~/.openclaw/openclaw.json` ä¸­ï¼š

```json5
{
  channels: {
    slack: {
      enabled: true,
      appToken: "xapp-...",
      botToken: "xoxb-...",
    },
  },
}
```

### ç¬¬ä¸ƒæ­¥ï¼šé‚€è¯·æœºå™¨äºº

åœ¨é¢‘é“ä¸­é‚€è¯· OpenClawï¼š

```
/invite @OpenClaw
```

## HTTP Modeï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

å¯¹äºæœ‰å…¬å¼€ URL çš„æœåŠ¡å™¨éƒ¨ç½²ï¼Œä½¿ç”¨ HTTP webhooksï¼š

```json5
{
  channels: {
    slack: {
      enabled: true,
      mode: "http",
      botToken: "xoxb-...",
      signingSecret: "your-signing-secret",
      webhookPath: "/slack/events",
    },
  },
}
```

åœ¨ Slack åº”ç”¨ä¸­ï¼š

1. **Event Subscriptions** â†’ è®¾ç½® Request URL ä¸º `https://your-server.com/slack/events`
2. **Interactivity & Shortcuts** â†’ ç›¸åŒ URL
3. **Slash Commands** â†’ ç›¸åŒ URL

## ç§ä¿¡è®¿é—®æ§åˆ¶

### é…å¯¹æ¨¡å¼ï¼ˆé»˜è®¤ï¼Œå®‰å…¨ï¼‰

æœªçŸ¥å‘é€è€…ä¼šæ”¶åˆ°é…å¯¹ç ï¼š

```json5
{
  channels: {
    slack: {
      dm: {
        policy: "pairing",
      },
    },
  },
}
```

**æ‰¹å‡†å‘é€è€…ï¼š**

```bash
openclaw pairing list slack
openclaw pairing approve slack <CODE>
```

### ç™½åå•æ¨¡å¼

åªæœ‰ç‰¹å®šç”¨æˆ·å¯ä»¥ç§ä¿¡ï¼š

```json5
{
  channels: {
    slack: {
      dm: {
        policy: "allowlist",
        allowFrom: ["U123ABC", "@jane", "jane@company.com"],
      },
    },
  },
}
```

### å¼€æ”¾æ¨¡å¼

å…è®¸å·¥ä½œåŒºä¸­çš„ä»»ä½•äººç§ä¿¡ï¼š

```json5
{
  channels: {
    slack: {
      dm: {
        policy: "open",
        allowFrom: ["*"],
      },
    },
  },
}
```

## é¢‘é“é…ç½®

### ç¾¤ç»„ç­–ç•¥

æ§åˆ¶æœºå™¨äººå¯ä»¥è®¿é—®å“ªäº›é¢‘é“ï¼š

```json5
{
  channels: {
    slack: {
      groupPolicy: "allowlist",
      channels: {
        "#general": { allow: true, requireMention: true },
        "#support": { allow: true, requireMention: false },
      },
    },
  },
}
```

### æŒ‰é¢‘é“é…ç½®

```json5
{
  channels: {
    slack: {
      channels: {
        "#engineering": {
          allow: true,
          requireMention: true,       // åªåœ¨è¢« @æåŠæ—¶å“åº”
          users: ["U123", "U456"],    // æ­¤é¢‘é“çš„ç”¨æˆ·ç™½åå•
          skills: ["search", "docs"], // é™åˆ¶å¯ç”¨æŠ€èƒ½
          systemPrompt: "ä¿æŒæŠ€æœ¯æ€§å’Œç®€æ´ã€‚",
          allowBots: false,           // å¿½ç•¥æœºå™¨äººæ¶ˆæ¯ï¼ˆé»˜è®¤ï¼‰
        },
      },
    },
  },
}
```

## å›å¤çº¿ç¨‹

æ§åˆ¶æœºå™¨äººå¦‚ä½•è¿›è¡Œçº¿ç¨‹å›å¤ï¼š

```json5
{
  channels: {
    slack: {
      replyToMode: "off", // "off" | "first" | "all"
    },
  },
}
```

| æ¨¡å¼ | è¡Œä¸º |
|------|------|
| `off` | åœ¨ä¸»é¢‘é“å›å¤ï¼ˆé»˜è®¤ï¼‰ |
| `first` | ç¬¬ä¸€æ¡å›å¤åœ¨çº¿ç¨‹ï¼Œåç»­åœ¨é¢‘é“ |
| `all` | æ‰€æœ‰å›å¤éƒ½åœ¨çº¿ç¨‹ä¸­ |

### æŒ‰èŠå¤©ç±»å‹é…ç½®çº¿ç¨‹

```json5
{
  channels: {
    slack: {
      replyToMode: "off",
      replyToModeByChatType: {
        direct: "all",    // æ‰€æœ‰ç§ä¿¡éƒ½åœ¨çº¿ç¨‹
        group: "first",   // ç¾¤ç»„ç§ä¿¡é¦–æ¡å›å¤åœ¨çº¿ç¨‹
        channel: "off",   // é¢‘é“ä¿æŒåœ¨ä¸»å¯¹è¯
      },
    },
  },
}
```

## æ–œæ å‘½ä»¤

### å†…ç½®å‘½ä»¤

é…ç½® `/openclaw` æ–œæ å‘½ä»¤ï¼š

```json5
{
  channels: {
    slack: {
      slashCommand: {
        enabled: true,
        name: "openclaw",
        ephemeral: true, // åªæœ‰ç”¨æˆ·å¯è§
      },
    },
  },
}
```

### åŸç”Ÿå‘½ä»¤

å¯ç”¨ OpenClaw çš„å†…ç½®å‘½ä»¤ä½œä¸º Slack æ–œæ å‘½ä»¤ï¼š

```json5
{
  channels: {
    slack: {
      commands: {
        native: true,
      },
    },
  },
}
```

## ç”¨æˆ· Tokenï¼ˆå¯é€‰ï¼‰

ä¸ºå¢å¼ºè¯»å–æƒé™ï¼Œæ·»åŠ ç”¨æˆ· tokenï¼š

```json5
{
  channels: {
    slack: {
      botToken: "xoxb-...",
      appToken: "xapp-...",
      userToken: "xoxp-...",
      userTokenReadOnly: true,
    },
  },
}
```

## å®Œæ•´é…ç½®ç¤ºä¾‹

```json5
{
  channels: {
    slack: {
      enabled: true,
      appToken: "xapp-...",
      botToken: "xoxb-...",
      
      // ç§ä¿¡è®¾ç½®
      dm: {
        policy: "pairing",
        allowFrom: ["U123ABC"],
      },
      
      // é¢‘é“è®¾ç½®
      groupPolicy: "allowlist",
      channels: {
        "#general": { allow: true, requireMention: true },
        "#support": { allow: true, requireMention: false },
      },
      
      // çº¿ç¨‹
      replyToMode: "first",
      replyToModeByChatType: {
        direct: "all",
      },
      
      // å†å²è®°å½•
      historyLimit: 50,
      
      // æ“ä½œ
      actions: {
        reactions: true,
        messages: true,
        pins: true,
      },
      
      // é™åˆ¶
      textChunkLimit: 4000,
      mediaMaxMb: 20,
    },
  },
}
```

## CLI å‘½ä»¤

```bash
# æ£€æŸ¥çŠ¶æ€
openclaw channels status --probe

# å‘é€æ¶ˆæ¯
openclaw message send --channel slack --to "user:U123" --message "ä½ å¥½ï¼"
openclaw message send --channel slack --to "channel:C123" --message "å¤§å®¶å¥½ï¼"

# æŸ¥çœ‹æ—¥å¿—
openclaw channels logs --channel slack

# è§£æåç§°ä¸º ID
openclaw channels resolve --channel slack "#general" "@jane"
```

## æ•…éšœæ’é™¤

### æœºå™¨äººä¸å“åº”

1. æ£€æŸ¥ token æ˜¯å¦æ­£ç¡®
2. éªŒè¯ Socket Mode å·²å¯ç”¨
3. ç¡®ä¿æœºå™¨äººå·²è¢«é‚€è¯·åˆ°é¢‘é“
4. æ£€æŸ¥ `groupPolicy` æ˜¯å¦å…è®¸è¯¥é¢‘é“

### "ç¼ºå°‘ scope" é”™è¯¯

åœ¨ **OAuth & Permissions** ä¸­æ·»åŠ æ‰€éœ€ scope å¹¶é‡æ–°å®‰è£…åº”ç”¨ã€‚

### æ¶ˆæ¯æœªæ”¶åˆ°

1. æ£€æŸ¥ **Event Subscriptions** æ˜¯å¦æœ‰æ­£ç¡®çš„äº‹ä»¶
2. HTTP æ¨¡å¼ä¸‹ï¼ŒéªŒè¯ webhook URL å¯è®¿é—®
3. æ£€æŸ¥ç§ä¿¡çš„ `dm.policy` å’Œ `dm.allowFrom`

## å®‰å…¨æœ€ä½³å®è·µ

- åœ¨å…¬å…±å·¥ä½œåŒºä½¿ç”¨ **é…å¯¹æ¨¡å¼** å¤„ç†ç§ä¿¡
- è®¾ç½® **é¢‘é“ç™½åå•** é™åˆ¶æœºå™¨äººè®¿é—®
- ä¿æŒ **userTokenReadOnly: true**
- åœ¨ç¹å¿™é¢‘é“ä½¿ç”¨ **requireMention: true**

## æ€»ç»“

ä½ å·²ç»é…ç½®äº† Slack é›†æˆï¼š

- âœ… **Socket Mode** æˆ– HTTP webhooks
- âœ… **ç§ä¿¡ç­–ç•¥** ç”¨äºè®¿é—®æ§åˆ¶
- âœ… **é¢‘é“ç™½åå•** å¸¦æåŠé™åˆ¶
- âœ… **çº¿ç¨‹** é…ç½®
- âœ… **æ–œæ å‘½ä»¤** æ”¯æŒ
- âœ… **å¤šå·¥ä½œåŒº** è®¾ç½®

ä½ çš„ AI åŠ©æ‰‹ç°åœ¨å¯ä»¥åœ¨ Slack ä¸Šä½¿ç”¨äº†ï¼ğŸ’¼
