---
title: OpenClaw を Telegram に接続する方法
description: "OpenClaw の Telegram 統合をステップバイステップで設定：Bot の作成、ゲートウェイの設定、AI アシスタントとの会話開始まで。"
slug: /integrations/telegram
tags: chat, integrations
publishedAt: 2026-01-28
status: draft
visibility: public
featuredImageUrl: /images/integrations/telegram_head.webp
---

# OpenClaw を Telegram に接続する方法

> このチュートリアルでは、OpenClaw を Telegram に接続する方法をゼロから解説します。Bot の作成から最初のメッセージ送信まで、約 10 分で完了します。

---

## 概要

OpenClaw の Telegram 統合を使うと、Telegram Bot をフル機能の AI アシスタントに変えることができます。接続すると、以下のことが可能になります：

- プライベートチャットやグループチャットで AI と会話する
- ファイル、画像、音声メッセージを送受信する
- AI にチャットの要約、質問への回答、タスクの自動実行を任せる
- Telegram がインストールされた任意のデバイスから OpenClaw を利用する

---

## 前提条件

始める前に、以下を確認してください：

- **OpenClaw がインストール済み**で正常に動作していること（`openclaw --version` で確認できます）
- **Telegram アカウント**を持っていること（まだの方は [telegram.org](https://telegram.org) からダウンロードしてください）
- **Telegram API にアクセスできること** — アクセスがブロックされている地域にいる場合は、プロキシの設定が必要です（下記の[プロキシ設定](#プロキシ設定)を参照）

---

## ステップ 1：Telegram Bot を作成する

すべての Telegram 統合は Bot の作成から始まります。Telegram 公式の [@BotFather](https://t.me/BotFather) を使って作成します。

### 1.1 BotFather を開く

Telegram で `@BotFather` を検索するか、[このリンク](https://t.me/BotFather)をクリックしてください。チャットを開いて以下を送信します：

```
/newbot
```

### 1.2 名前とユーザー名を設定する

BotFather が 2 つの質問をします：

1. **表示名** — 自由に設定できます。例：`My OpenClaw Assistant`
2. **ユーザー名** — `bot` で終わる必要があります。例：`my_openclaw_bot`

### 1.3 Token をコピーする

Bot の作成が完了すると、BotFather から **Bot Token** が送られてきます。以下のような形式です：

```
7123456789:AAH1234567890abcdefghijklmnopqrstuv
```

> ⚠️ **この Token は安全に保管してください。** Token を持っている人は誰でもあなたの Bot を操作できます。漏洩した場合は、BotFather で `/revoke` を使って再生成してください。

### 1.4 オプション設定

BotFather 内で、以下の設定も行えます：

- `/setjoingroups` → グループチャットで Bot を使いたい場合は**有効化**してください
- `/setprivacy` → Bot がグループ内のすべてのメッセージを読めるようにするには、プライバシーモードを**無効化**してください
- `/setdescription` → ユーザーが Bot を初めて開いた時に表示される説明文を設定できます
- `/setcommands` → スラッシュコマンドを定義できます（例：`/ask`、`/summarize`）

---

## ステップ 2：OpenClaw を設定する

Bot Token を OpenClaw に渡す方法は 2 つあります。

### 方法 A：環境変数（クイックスタート）

ゲートウェイを起動する前に、環境変数を設定します：

```bash
export TELEGRAM_BOT_TOKEN="7123456789:AAH1234567890abcdefghijklmnopqrstuv"
```

テスト段階ではこれが最もシンプルです。

### 方法 B：設定ファイル（推奨）

OpenClaw の設定ファイル（`~/.openclaw/config.json5`）に Token を記述します：

```json5
{
  channels: {
    telegram: {
      botToken: "7123456789:AAH1234567890abcdefghijklmnopqrstuv",
      dmPolicy: "pairing",  // DM にはペアリングが必要
    }
  }
}
```

### `dmPolicy: "pairing"` について

デフォルトでは、DM は `pairing`（ペアリング）モードが使用されます：

- 誰かが初めて Bot にメッセージを送ると、**ペアリングコード**が発行されます
- OpenClaw の CLI でこのコードを承認するまで、Bot は応答しません
- これにより、権限のないユーザーが AI を利用するのを防ぎます

その他のオプション：
- `"open"` — 誰でも Bot とチャットできます（公開 Bot 向け）
- `"deny"` — DM を完全に無効化します

---

## ステップ 3：起動して確認する

### 3.1 ゲートウェイを起動する

```bash
openclaw gateway start
```

以下のような出力が表示されれば、接続成功です：

```
✓ Telegram bot connected: @my_openclaw_bot
```

### 3.2 最初のメッセージを送る

Telegram を開いて、Bot にメッセージを送ります：

```
こんにちは！
```

### 3.3 ペアリングを完了する

`dmPolicy: "pairing"`（デフォルト）を使用している場合、Bot はペアリングコードを返します：

```
🔐 ペアリングが必要です。コード：ABC-123
OpenClaw の CLI でこのデバイスを承認してください。
```

ターミナルで以下を実行します：

```bash
openclaw pair approve ABC-123
```

### 3.4 接続を確認する

ペアリング完了後、もう一度メッセージを送ってみてください。AI からの返答が届くはずです。おめでとうございます — OpenClaw が Telegram に接続されました！🎉

---

## 高度な設定

### グループチャット

Bot をグループで使用するには、設定に `groups` セクションを追加します：

```json5
{
  channels: {
    telegram: {
      botToken: "YOUR_TOKEN",
      dmPolicy: "pairing",
      groupPolicy: "open",                  // グループ内の全員がメッセージ送信可能
      groups: {
        "-1001234567890": {                  // グループのチャット ID
          requireMention: true,              // @メンションされた時のみ応答
        }
      }
    }
  }
}
```

**主なオプション：**
- `requireMention: true` — @メンションされた時のみ応答します（アクティブなグループにおすすめ）
- `requireMention: false` — すべてのメッセージに応答します
- `groupPolicy: "open"` — グループ内の全員がメッセージ送信可能
- `groupPolicy: "allowlist"` — `groupAllowFrom` に登録されたユーザーのみ送信可能（デフォルト）
- `groupPolicy: "disabled"` — グループメッセージを完全に無効化

### チャット ID の取得方法

最も簡単な方法：

1. Bot をグループに追加します
2. グループでメッセージを送信します
3. OpenClaw のゲートウェイログを確認します — チャット ID が表示されます

あるいは、グループのメッセージを [@userinfobot](https://t.me/userinfobot) に転送して取得することもできます。

### プライバシーモード

Telegram Bot はデフォルトで**プライバシーモード**が有効になっています。このモードでは、グループ内の Bot は以下のメッセージのみ受信できます：

- `/` で始まるコマンド
- Bot を @メンションしたメッセージ
- Bot のメッセージへの返信
- サービスメッセージ（メンバーの参加/退出など）

Bot がグループ内の**すべてのメッセージ**を読めるようにしたい場合（例：チャットの要約用）、プライバシーモードを無効にします：

1. `@BotFather` を開きます
2. `/setprivacy` を送信します
3. Bot を選択します
4. **Disable** を選択します

> ⚠️ この変更を反映するには、Bot をグループから**一度削除して再追加**する必要があります。

### カスタムコマンド

設定でカスタムコマンドを追加すると、Telegram の `/` メニューに表示されます：

```json5
{
  channels: {
    telegram: {
      botToken: "YOUR_TOKEN",
      customCommands: [
        { command: "summarize", description: "グループの最近の会話を要約する" },
        { command: "translate", description: "返信したメッセージを日本語に翻訳する" }
      ]
    }
  }
}
```

> **注意：** カスタムコマンドは**メニューエントリのみ**です。Telegram の `/` メニューに表示されますが、OpenClaw 自体はこれらのコマンドを自動的に処理しません。別途ロジックの実装が必要です。コマンド名は小文字 `a-z`、数字 `0-9`、アンダースコア `_`（1〜32 文字）のみ使用可能で、`/status` や `/reset` などのネイティブコマンドを上書きすることはできません。

### Webhook モード vs ロングポーリング

デフォルトでは、OpenClaw は**ロングポーリング**を使用してメッセージを受信します。追加設定なしでどこでも動作します。

本番環境では、パフォーマンス向上のために **Webhook モード**への切り替えをおすすめします：

```json5
{
  channels: {
    telegram: {
      botToken: "YOUR_TOKEN",
      webhookUrl: "https://your-domain.com/telegram-webhook",
      webhookSecret: "your-random-secret",   // オプションですが推奨
      // webhookPath: "/telegram-webhook",    // ローカルパス、デフォルト: /telegram-webhook
    }
  }
}
```

ローカルリスナーはデフォルトで `0.0.0.0:8787` にバインドし、`POST /telegram-webhook` を提供します。公開 URL が異なる場合は、リバースプロキシを使用してください。

**Webhook の要件：**
- 公開アクセス可能な HTTPS URL
- 有効な SSL 証明書（Let's Encrypt で十分です）

### プロキシ設定

Telegram API へのアクセスがブロックされている地域にいる場合は、プロキシを設定します：

```json5
{
  channels: {
    telegram: {
      botToken: "YOUR_TOKEN",
      proxy: "socks5://127.0.0.1:7890"    // SOCKS5 または HTTP プロキシ URL
      // proxy: "http://user:pass@127.0.0.1:7890"  // 認証が必要な場合
    }
  }
}
```

環境変数を使うこともできます：

```bash
export HTTPS_PROXY="socks5://127.0.0.1:7890"
openclaw gateway start
```

---

## よくある問題と対処法

### Bot が応答しない

1. ゲートウェイが起動しているか確認します：`openclaw gateway status`
2. Token が正しいか確認します — BotFather で `/token` を使って確認できます
3. ログを確認します：`openclaw gateway logs`
4. ペアリングモードを使用している場合、ペアリングが完了しているか確認します

### グループメッセージが受信できない

1. プライバシーモードがメッセージをブロックしていないか確認します（上記の[プライバシーモード](#プライバシーモード)を参照）
2. 設定ファイルにグループのチャット ID が正しく記載されているか確認します
3. Bot がグループに追加されているか確認します
4. プライバシーモードの設定を変更した後は、Bot を再追加します

### IPv6 の問題

一部のネットワーク環境では、IPv6 経由で Telegram API に接続する際に問題が発生することがあります。IPv4 を強制します：

```bash
export NODE_OPTIONS="--dns-result-order=ipv4first"
openclaw gateway start
```

### 409 Conflict エラー

同じ Token で別のプロセスがロングポーリングを実行していることを意味します。同時に使用できるのは 1 つのプロセスだけです。

**解決方法：**
1. この Token を使用している他のインスタンスをすべて停止します
2. 以前 Webhook を設定していた場合、ゲートウェイ起動時に自動的にクリアされます
3. 数秒待ってから再起動します：`openclaw gateway restart`

---

## 関連リソース

- [Discord 統合](/blog/integrations/discord) — OpenClaw を Discord に接続する
- [WhatsApp 統合](/blog/integrations/whatsapp) — OpenClaw を WhatsApp に接続する
- [OpenClaw ドキュメント](https://docs.openclaw.ai) — 完全なリファレンス
