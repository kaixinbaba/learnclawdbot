---
title: "openclaw.plugin.json 完全ガイド：プラグインマニフェスト設定"
description: "OpenClaw プラグインの openclaw.plugin.json マニフェストファイルをマスターしましょう。必須フィールド、JSON Schema 設定、検証ルール、ベストプラクティスを実例付きで解説します。"
slug: /openclaw-plugin-json-guide
publishedAt: 2026-02-17
status: published
visibility: public
featuredImageUrl: /images/features/plugin-manifest.webp
---

# openclaw.plugin.json 完全ガイド：プラグインマニフェスト設定

すべての OpenClaw プラグインは、ルートディレクトリに `openclaw.plugin.json` マニフェストファイルを**必ず**含める必要があります。このファイルは、コードを実行せずにプラグインの設定を検証する方法を OpenClaw に伝えます—セキュリティと信頼性にとって不可欠です。

プラグインを開発している場合でも、検証エラーをトラブルシューティングしている場合でも、このガイドには必要な情報がすべて含まれています。

## クイックスタート：最小限のマニフェスト

最もシンプルな有効なマニフェストは以下の通りです：

```json
{
  "id": "my-plugin",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {}
  }
}
```

これだけです—必須フィールドは2つだけ。しかし、できることはもっとたくさんあります。

## 必須フィールド

### `id`（文字列）

プラグインの正規識別子。インストールされているすべてのプラグイン間で一意である必要があります。

```json
{
  "id": "voice-call"
}
```

**ルール：**
- 小文字とハイフンを使用（例：`my-plugin`、`MyPlugin` ではない）
- コアツール名と競合してはいけない
- `plugins.entries.voice-call` のような設定参照で使用される

### `configSchema`（オブジェクト）

プラグインが受け入れる設定を定義する JSON Schema。OpenClaw は起動時にこのスキーマに対してプラグイン設定を検証します—プラグインコードを実行する前に。

```json
{
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "apiKey": {
        "type": "string",
        "description": "サービスの API キー"
      },
      "timeout": {
        "type": "number",
        "default": 30
      }
    },
    "required": ["apiKey"]
  }
}
```

**これが重要な理由：**
- 起動時に設定エラーを即座にキャッチ
- 欠落/無効なフィールドに対する明確なエラーメッセージを提供
- 将来のツールでの設定 UI 生成を可能にする

## オプションフィールド

### `name`（文字列）

人間が読めるプラグインの表示名。

```json
{
  "name": "Voice Call"
}
```

### `description`（文字列）

プラグインが何をするかの簡単な説明。

```json
{
  "description": "Twilio/Telnyx/Plivo 経由の発信・着信音声通話"
}
```

### `version`（文字列）

プラグインバージョン（情報提供のみ）。

```json
{
  "version": "1.2.0"
}
```

### `kind`（文字列）

プラグインカテゴリ。例：メモリプラグインの場合は `"memory"`。

```json
{
  "kind": "memory"
}
```

### `channels`（配列）

このプラグインが登録するチャンネル ID。プラグインがメッセージングチャンネルを追加する場合は必須です。

```json
{
  "channels": ["matrix", "slack"]
}
```

**重要：** ここで宣言されていない設定内の `channels.*` キーは**エラー**になります。

### `providers`（配列）

このプラグインが登録するプロバイダー ID（モデルプロバイダー用）。

```json
{
  "providers": ["my-llm-provider"]
}
```

### `skills`（配列）

読み込むスキルディレクトリ（プラグインルートからの相対パス）。

```json
{
  "skills": ["skills/voice", "skills/transcribe"]
}
```

### `uiHints`（オブジェクト）

設定 UI レンダリングのヒント—ラベル、プレースホルダー、機密フィールドマーカー。

```json
{
  "uiHints": {
    "apiKey": {
      "label": "API キー",
      "placeholder": "sk-...",
      "sensitive": true
    }
  }
}
```

## 完全な例：Voice Call プラグイン

Voice Call プラグインの実際のマニフェストです：

```json
{
  "id": "voice-call",
  "name": "Voice Call",
  "description": "Twilio/Telnyx/Plivo 経由の発着信通話",
  "version": "1.0.0",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "provider": {
        "type": "string",
        "enum": ["twilio", "telnyx", "plivo", "mock"],
        "description": "使用する音声プロバイダー"
      },
      "fromNumber": {
        "type": "string",
        "description": "発信者番号"
      },
      "toNumber": {
        "type": "string",
        "description": "デフォルトの宛先番号"
      },
      "twilio": {
        "type": "object",
        "properties": {
          "accountSid": { "type": "string" },
          "authToken": { "type": "string" }
        }
      }
    },
    "required": ["provider"]
  },
  "uiHints": {
    "twilio.authToken": {
      "sensitive": true
    }
  }
}
```

## よくあるエラーと解決方法

### "Plugin manifest not found"

**原因：** プラグインルートに `openclaw.plugin.json` がありません。

**解決：** 少なくとも `id` と `configSchema` を含むマニフェストファイルを作成してください。

### "Invalid configSchema"

**原因：** スキーマが有効な JSON Schema ではありません。

**解決：** [jsonschema.dev](https://jsonschema.dev) でスキーマを検証するか、JSON Schema リンターを使用してください。

### "Unknown channel: xxx"

**原因：** 設定がどのプラグインでも宣言されていないチャンネル ID を参照しています。

**解決：** マニフェストの `channels` 配列にチャンネル ID を追加してください。

### "Plugin ID conflicts with core tool"

**原因：** プラグイン ID が組み込みツール名と競合しています。

**解決：** プラグイン ID を一意の名前に変更してください。

## 検証の動作

OpenClaw は以下のタイミングでマニフェストを検証します：

1. **設定の読み書き** — すべての設定変更でスキーマ検証が実行される
2. **Gateway 起動** — すべてのプラグインマニフェストが読み込まれ検証される
3. **Doctor コマンド** — `openclaw doctor` がプラグインエラーを報告する

プラグインのマニフェストに問題がある場合、検証全体が失敗します—正しく設定しましょう！

## ベストプラクティス

1. **常に `additionalProperties: false` を使用** — 設定キーのタイプミスをキャッチ
2. **機密フィールドをマーク** — シークレットには `uiHints.*.sensitive: true` を使用
3. **デフォルト値を提供** — オプションフィールドにはスキーマで `default` を使用
4. **説明を書く** — ユーザーが各設定オプションを理解できるようにする
5. **Doctor でテスト** — 変更後に `openclaw doctor` を実行

## プラグイン設定の使用

マニフェストを設定したら、ユーザーは `openclaw.json` でプラグインを設定します：

```json5
{
  plugins: {
    entries: {
      "voice-call": {
        enabled: true,
        config: {
          provider: "twilio",
          fromNumber: "+15550001234",
          twilio: {
            accountSid: "ACxxxxxxxx",
            authToken: "..."
          }
        }
      }
    }
  }
}
```

OpenClaw は `configSchema` に対してこの設定を自動的に検証します。

## まとめ

`openclaw.plugin.json` マニフェストは、プラグインと OpenClaw 間の契約です：

| フィールド | 必須 | 用途 |
|------------|------|------|
| `id` | ✅ | 一意のプラグイン識別子 |
| `configSchema` | ✅ | 検証用の JSON Schema |
| `name` | ❌ | 表示名 |
| `description` | ❌ | 簡単な説明 |
| `channels` | ❌ | 登録されたチャンネル ID |
| `providers` | ❌ | 登録されたプロバイダー ID |
| `skills` | ❌ | 読み込むスキルディレクトリ |
| `uiHints` | ❌ | UI レンダリングヒント |

マニフェストを正しく設定すれば、OpenClaw が残りを処理します—設定の検証、早期のエラー検出、プラグインのセキュリティ維持。

## 関連リソース

- [プラグインシステム概要](/docs/plugins) — 完全なプラグイン開発ガイド
- [プラグイン Agent ツール](/docs/plugin-agent-tools) — プラグインへのツール追加
- [Voice Call プラグイン](/docs/voice-call-plugin) — 実際のプラグイン例
