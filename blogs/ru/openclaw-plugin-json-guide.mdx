---
title: "openclaw.plugin.json: Полное руководство по настройке манифеста плагина"
description: "Освойте файл манифеста openclaw.plugin.json для плагинов OpenClaw. Изучите обязательные поля, настройку JSON Schema, правила валидации и лучшие практики с реальными примерами."
slug: /openclaw-plugin-json-guide
tags: OpenClaw, Плагин, Конфигурация, JSON, Разработка
publishedAt: 2026-02-17
status: published
visibility: public
featuredImageUrl: /images/features/plugin-manifest.webp
---

# openclaw.plugin.json: Полное руководство по настройке манифеста плагина

Каждый плагин OpenClaw **обязан** содержать файл манифеста `openclaw.plugin.json` в корневой директории. Этот файл указывает OpenClaw, как валидировать конфигурацию плагина без выполнения кода — это критически важно для безопасности и надёжности.

Разрабатываете плагин или устраняете ошибки валидации? В этом руководстве есть всё, что вам нужно.

## Быстрый старт: Минимальный манифест

Вот простейший валидный манифест:

```json
\{
  "id": "my-plugin",
  "configSchema": \{
    "type": "object",
    "additionalProperties": false,
    "properties": \{\}
  \}
\}
```

Вот и всё — только два обязательных поля. Но возможностей гораздо больше.

## Обязательные поля

### `id` (строка)

Каноничный идентификатор плагина. Должен быть уникальным среди всех установленных плагинов.

```json
\{
  "id": "voice-call"
\}
```

**Правила:**
- Используйте нижний регистр с дефисами (например, `my-plugin`, не `MyPlugin`)
- Не должен конфликтовать с именами базовых инструментов
- Используется в ссылках конфигурации: `plugins.entries.voice-call`

### `configSchema` (объект)

JSON Schema, определяющая, какую конфигурацию принимает плагин. OpenClaw валидирует конфигурацию плагина по этой схеме при запуске — до выполнения кода плагина.

```json
\{
  "configSchema": \{
    "type": "object",
    "additionalProperties": false,
    "properties": \{
      "apiKey": \{
        "type": "string",
        "description": "API-ключ сервиса"
      \},
      "timeout": \{
        "type": "number",
        "default": 30
      \}
    \},
    "required": ["apiKey"]
  \}
\}
```

**Почему это важно:**
- Мгновенно выявляет ошибки конфигурации при запуске
- Предоставляет понятные сообщения об ошибках для отсутствующих/невалидных полей
- Позволяет генерировать UI конфигурации в будущих инструментах

## Опциональные поля

### `name` (строка)

Читаемое отображаемое имя плагина.

```json
\{
  "name": "Voice Call"
\}
```

### `description` (строка)

Краткое описание функций плагина.

```json
\{
  "description": "Исходящие и входящие голосовые вызовы через Twilio/Telnyx/Plivo"
\}
```

### `version` (строка)

Версия плагина (информационно).

```json
\{
  "version": "1.2.0"
\}
```

### `kind` (строка)

Категория плагина. Пример: `"memory"` для плагинов памяти.

```json
\{
  "kind": "memory"
\}
```

### `channels` (массив)

ID каналов, которые регистрирует этот плагин. Обязательно, если плагин добавляет канал сообщений.

```json
\{
  "channels": ["matrix", "slack"]
\}
```

**Важно:** Неизвестные ключи `channels.*` в конфигурации вызывают **ошибку**, если не объявлены здесь.

### `providers` (массив)

ID провайдеров, которые регистрирует этот плагин (для провайдеров моделей).

```json
\{
  "providers": ["my-llm-provider"]
\}
```

### `skills` (массив)

Директории навыков для загрузки (относительно корня плагина).

```json
\{
  "skills": ["skills/voice", "skills/transcribe"]
\}
```

### `uiHints` (объект)

Подсказки для рендеринга UI конфигурации — метки, плейсхолдеры, маркеры чувствительных полей.

```json
\{
  "uiHints": \{
    "apiKey": \{
      "label": "API-ключ",
      "placeholder": "sk-...",
      "sensitive": true
    \}
  \}
\}
```

## Полный пример: Voice Call плагин

Реальный манифест плагина Voice Call:

```json
\{
  "id": "voice-call",
  "name": "Voice Call",
  "description": "Исходящие/входящие вызовы через Twilio/Telnyx/Plivo",
  "version": "1.0.0",
  "configSchema": \{
    "type": "object",
    "additionalProperties": false,
    "properties": \{
      "provider": \{
        "type": "string",
        "enum": ["twilio", "telnyx", "plivo", "mock"],
        "description": "Голосовой провайдер"
      \},
      "fromNumber": \{
        "type": "string",
        "description": "Номер вызывающего абонента"
      \},
      "toNumber": \{
        "type": "string",
        "description": "Номер назначения по умолчанию"
      \},
      "twilio": \{
        "type": "object",
        "properties": \{
          "accountSid": \{ "type": "string" \},
          "authToken": \{ "type": "string" \}
        \}
      \}
    \},
    "required": ["provider"]
  \},
  "uiHints": \{
    "twilio.authToken": \{
      "sensitive": true
    \}
  \}
\}
```

## Типичные ошибки и решения

### "Plugin manifest not found"

**Причина:** Отсутствует `openclaw.plugin.json` в корне плагина.

**Решение:** Создайте файл манифеста минимум с `id` и `configSchema`.

### "Invalid configSchema"

**Причина:** Схема не является валидной JSON Schema.

**Решение:** Проверьте схему на [jsonschema.dev](https://jsonschema.dev) или используйте линтер JSON Schema.

### "Unknown channel: xxx"

**Причина:** Конфигурация ссылается на ID канала, не объявленный ни одним плагином.

**Решение:** Добавьте ID канала в массив `channels` вашего манифеста.

### "Plugin ID conflicts with core tool"

**Причина:** ID плагина совпадает с именем встроенного инструмента.

**Решение:** Переименуйте ID плагина на уникальное значение.

## Поведение валидации

OpenClaw валидирует манифесты в следующих точках:

1. **Чтение/запись конфигурации** — валидация схемы при каждом изменении конфигурации
2. **Запуск Gateway** — загрузка и валидация всех манифестов плагинов
3. **Команда Doctor** — `openclaw doctor` сообщает об ошибках плагинов

Если у плагина некорректный манифест, валидация полностью проваливается — настройте правильно!

## Лучшие практики

1. **Всегда используйте `additionalProperties: false`** — выявляет опечатки в ключах конфигурации
2. **Отмечайте чувствительные поля** — используйте `uiHints.*.sensitive: true` для секретов
3. **Предоставляйте значения по умолчанию** — используйте `default` в схеме для опциональных полей
4. **Пишите описания** — помогите пользователям понять каждую опцию конфигурации
5. **Тестируйте через Doctor** — запускайте `openclaw doctor` после изменений

## Использование конфигурации плагина

После настройки манифеста пользователи настраивают плагин в `openclaw.json`:

```json5
\{
  plugins: \{
    entries: \{
      "voice-call": \{
        enabled: true,
        config: \{
          provider: "twilio",
          fromNumber: "+15550001234",
          twilio: \{
            accountSid: "ACxxxxxxxx",
            authToken: "..."
          \}
        \}
      \}
    \}
  \}
\}
```

OpenClaw автоматически валидирует эту конфигурацию по вашей `configSchema`.

## Итоги

Манифест `openclaw.plugin.json` — это контракт между плагином и OpenClaw:

| Поле | Обязательно | Назначение |
|------|-------------|------------|
| `id` | ✅ | Уникальный идентификатор плагина |
| `configSchema` | ✅ | JSON Schema для валидации |
| `name` | ❌ | Отображаемое имя |
| `description` | ❌ | Краткое описание |
| `channels` | ❌ | Зарегистрированные ID каналов |
| `providers` | ❌ | Зарегистрированные ID провайдеров |
| `skills` | ❌ | Директории навыков для загрузки |
| `uiHints` | ❌ | Подсказки для рендеринга UI |

Настройте манифест правильно, и OpenClaw позаботится об остальном — валидация конфигурации, раннее обнаружение ошибок, обеспечение безопасности плагина.

## Дополнительные ресурсы

- [Обзор системы плагинов](/docs/plugins) — Полное руководство по разработке плагинов
- [Agent-инструменты плагинов](/docs/plugin-agent-tools) — Добавление инструментов в плагин
- [Voice Call плагин](/docs/voice-call-plugin) — Реальный пример плагина
