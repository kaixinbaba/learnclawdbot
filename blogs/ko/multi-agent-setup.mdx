---
title: OpenClaw 멀티 에이전트 설정 가이드 - 여러 AI 어시스턴트 실행하기
description: OpenClaw에서 별도의 워크스페이스, 성격, WhatsApp/Telegram/Discord 채널 바인딩을 가진 여러 격리된 AI 에이전트를 구성하는 방법을 알아보세요
slug: /multi-agent-setup
publishedAt: 2026-02-14
status: published
visibility: public
featuredImageUrl: /images/features/multi-agent-setup.webp
---

# OpenClaw 멀티 에이전트 설정 가이드

단일 OpenClaw 게이트웨이에서 여러 AI 어시스턴트를 실행하는 것은 가장 강력한 기능 중 하나입니다. 이 가이드에서는 고유한 성격, 워크스페이스, 채널 바인딩을 가진 격리된 에이전트를 설정하는 방법을 안내합니다.

## 멀티 에이전트란?

OpenClaw에서 **에이전트**는 다음을 갖춘 완전히 격리된 AI 브레인입니다:

- **워크스페이스** — 파일, AGENTS.md, SOUL.md, USER.md, 성격 규칙
- **상태 디렉토리** — 인증 프로필, 모델 레지스트리, 에이전트별 구성
- **세션 저장소** — 채팅 기록 및 라우팅 상태
- **스킬** — 워크스페이스의 `skills/` 폴더에 있는 에이전트별 스킬

이를 통해 동일한 서버에서 완전히 별개의 AI 어시스턴트를 실행할 수 있습니다 — 다른 성격, 다른 기능, 다른 접근 수준.

## 일반적인 사용 사례

- **개인 vs 업무** — 업무 메시지는 전문 에이전트로, 개인은 캐주얼 에이전트로 라우팅
- **패밀리 봇** — 도구가 제한된 가족 그룹 채팅용 제한 에이전트
- **다중 사용자 서버** — 각 가족 구성원이 자신만의 격리된 어시스턴트를 가짐
- **다른 모델** — 일상 작업에는 빠른 Sonnet, 딥 워크에는 강력한 Opus

## 빠른 시작: 에이전트 추가

새 에이전트를 추가하는 가장 쉬운 방법은 마법사를 사용하는 것입니다:

```bash
openclaw agents add work
```

생성되는 항목:
- 워크스페이스: `~/.openclaw/workspace-work`
- 에이전트 디렉토리: `~/.openclaw/agents/work/agent`
- 세션 저장소: `~/.openclaw/agents/work/sessions`

에이전트 확인:

```bash
openclaw agents list --bindings
```

## 바인딩 이해하기

**바인딩**은 수신 메시지를 올바른 에이전트로 라우팅합니다. 다음 조건으로 매칭됩니다:

1. `peer` — 특정 DM 또는 그룹 ID (가장 구체적, 먼저 매칭)
2. `guildId` — Discord 서버
3. `teamId` — Slack 워크스페이스
4. `accountId` — 채널 계정 (예: 어떤 WhatsApp 번호인지)
5. `channel` — 전체 채널 (가장 덜 구체적)

**규칙: 가장 구체적인 매칭이 우선합니다.** peer 바인딩을 채널 전체 규칙 위에 배치하세요.

## 구성 예제

### 예제 1: 두 개의 WhatsApp 번호 → 두 개의 에이전트

다른 WhatsApp 계정을 다른 에이전트로 라우팅:

```json
{
  "agents": {
    "list": [
      {
        "id": "home",
        "default": true,
        "name": "Home",
        "workspace": "~/.openclaw/workspace-home",
        "agentDir": "~/.openclaw/agents/home/agent"
      },
      {
        "id": "work",
        "name": "Work",
        "workspace": "~/.openclaw/workspace-work",
        "agentDir": "~/.openclaw/agents/work/agent"
      }
    ]
  },
  "bindings": [
    { "agentId": "home", "match": { "channel": "whatsapp", "accountId": "personal" } },
    { "agentId": "work", "match": { "channel": "whatsapp", "accountId": "biz" } }
  ],
  "channels": {
    "whatsapp": {
      "accounts": {
        "personal": {},
        "biz": {}
      }
    }
  }
}
```

### 예제 2: WhatsApp 일상 + Telegram 딥 워크

다른 채널을 다른 모델 계층으로 라우팅:

```json
{
  "agents": {
    "list": [
      {
        "id": "chat",
        "name": "Everyday",
        "workspace": "~/.openclaw/workspace-chat",
        "model": "anthropic/claude-sonnet-4-5"
      },
      {
        "id": "opus",
        "name": "Deep Work",
        "workspace": "~/.openclaw/workspace-opus",
        "model": "anthropic/claude-opus-4-5"
      }
    ]
  },
  "bindings": [
    { "agentId": "chat", "match": { "channel": "whatsapp" } },
    { "agentId": "opus", "match": { "channel": "telegram" } }
  ]
}
```

### 예제 3: 하나의 WhatsApp, 여러 사용자

하나의 WhatsApp 번호를 공유하면서 다른 DM을 다른 에이전트로 라우팅:

```json
{
  "agents": {
    "list": [
      { "id": "alex", "workspace": "~/.openclaw/workspace-alex" },
      { "id": "mia", "workspace": "~/.openclaw/workspace-mia" }
    ]
  },
  "bindings": [
    { "agentId": "alex", "match": { "channel": "whatsapp", "peer": { "kind": "dm", "id": "+15551230001" } } },
    { "agentId": "mia", "match": { "channel": "whatsapp", "peer": { "kind": "dm", "id": "+15551230002" } } }
  ],
  "channels": {
    "whatsapp": {
      "dmPolicy": "allowlist",
      "allowFrom": ["+15551230001", "+15551230002"]
    }
  }
}
```

## 일반적인 문제 및 해결책

### "Session file path must be within sessions directory"

이것은 **가장 일반적인 멀티 에이전트 오류**입니다. 원인:

1. **바인딩에 agentId 누락** — 모든 바인딩에 올바른 `agentId`가 있는지 확인
2. **경로 충돌** — 에이전트 간에 `agentDir` 재사용하지 않기
3. **버전 불일치** — 최신 OpenClaw 버전으로 업데이트

**해결:** 바인딩이 에이전트 ID와 정확히 일치하는지 확인:

```bash
openclaw agents list --bindings
```

### 에이전트가 메시지를 받지 못함

1. **바인딩 순서 확인** — 더 구체적인 바인딩을 먼저 배치
2. **채널 접근 확인** — 채널의 `allowFrom` 또는 `groupPolicy`에 발신자가 포함되어 있는지 확인
3. **에이전트 상태 확인** — `openclaw status` 실행하여 모든 에이전트가 활성 상태인지 확인

### 인증 프로필이 작동하지 않음

인증 프로필은 **에이전트별**입니다. 각 에이전트는 다음에서 읽습니다:

```
~/.openclaw/agents/<agentId>/agent/auth-profiles.json
```

자격 증명을 공유하려면 `auth-profiles.json`을 다른 에이전트의 `agentDir`에 복사하세요.

## 베스트 프랙티스

### 1. 마법사 사용

수동 구성 대신 항상 `openclaw agents add <name>` 사용. 디렉토리를 올바르게 설정합니다.

### 2. 먼저 바인딩 테스트

프로덕션 전에 라우팅 확인:

```bash
openclaw agents list --bindings
```

### 3. 워크스페이스 분리 유지

각 에이전트는 자체 워크스페이스 디렉토리를 가져야 합니다. 에이전트 간에 워크스페이스를 공유하지 마세요.

### 4. 구체적인 바인딩 사용

가장 구체적인 바인딩(peer 매치)을 바인딩 목록 상단에 배치.

### 5. 신뢰할 수 없는 에이전트 샌드박스화

신뢰할 수 없는 사용자와 상호작용하는 에이전트의 경우 샌드박스 모드를 활성화하고 도구를 제한.

## 요약

멀티 에이전트 설정을 통해 하나의 OpenClaw 게이트웨이에서 여러 격리된 AI 어시스턴트를 실행할 수 있습니다. 핵심 사항:

- **마법사 사용** — `openclaw agents add <name>`으로 모든 것을 올바르게 설정
- **바인딩이 메시지 라우팅** — 가장 구체적인 매칭 우선
- **각 에이전트는 격리됨** — 별도의 워크스페이스, 인증, 세션
- **에이전트별 도구/샌드박스** — 신뢰할 수 없는 에이전트의 기능 제한

---

**프로 팁:** 두 개의 에이전트(개인 + 업무)로 시작한 다음 확장하세요. 복잡성을 추가하기 전에 바인딩을 철저히 테스트하세요!
