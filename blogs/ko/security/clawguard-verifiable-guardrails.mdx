---
title: "ClawGuard: OpenClaw 에이전트를 위한 검증 가능한 가드레일"
description: "ClawGuard가 암호화 증명을 사용하여 OpenClaw 에이전트가 신뢰할 수 있는 가드레일 하에서 실행되고 있음을 검증하여 사용자와 서비스 제공자를 모두 보호하는 방법을 알아보세요"
slug: /security/clawguard-verifiable-guardrails
tags: 보안, 가드레일, 증명, TEE, ClawGuard
publishedAt: 2026-02-11
status: published
visibility: public
isPinned: false
featuredImageUrl: /images/features/clawguard_head.webp
---

# ClawGuard: OpenClaw 에이전트를 위한 검증 가능한 가드레일

OpenClaw의 채택이 가속화됨에 따라 중요한 질문이 떠오릅니다: **AI 에이전트가 실제로 주장하는 안전 제약 하에서 실행되고 있는지 어떻게 알 수 있을까요?**

ClawGuard는 OpenClaw 에이전트가 특정하고 실행 가능한 가드레일 하에서 작동하고 있음을 암호학적으로 증명할 수 있게 하는 오픈 소스 프로토타입입니다. 선언을 믿는 대신 이제 증거를 직접 검증할 수 있습니다.

## 검증 가능한 가드레일이 중요한 이유

오늘날의 AI 에이전트는 가정된 제약 하에서 작동합니다. 에이전트가 정책과 보호 조치로 구성되어 있을 수 있지만, 외부 당사자가 응답이 생성될 때 이러한 보호 조치가 실제로 유효한지 확인할 수 있는 신뢰할 수 있는 방법이 없습니다.

이는 양쪽 모두에 위험을 초래합니다:

### 사용자에게
- 에이전트는 사용자가 그 의미를 완전히 이해하지 못한 채 광범위한 권한을 받는 경우가 많습니다
- 작업이 사용자가 의도하거나 승인한 것을 훨씬 초과할 수 있습니다
- 개인 데이터 노출, 의도하지 않은 시스템 접근, 재정적 피해는 실제 위험입니다

### 서비스 제공자에게
- 의미 있는 가드레일 없이 에이전트 주도 API 호출이 증가하고 있습니다
- 문제가 발생하면 사용자는 에이전트의 구성이 아닌 서비스를 비난합니다
- 제공자는 남용 보고, 사기 조사, 평판 손상에 직면합니다

**ClawGuard는 에이전트의 안전 제약을 단순히 구성 가능하게 하는 것이 아니라 검증 가능하게 만들어 이 문제를 해결합니다.**

## ClawGuard란 무엇인가요?

ClawGuard는 OpenClaw 에이전트가 다음을 증명하는 암호화 증명을 생성할 수 있게 하는 오픈 소스 연구 프로토타입입니다:

1. **알려진 가드레일이 적극적으로 정책을 시행하고 있음**
2. **에이전트가 신뢰할 수 있는 실행 환경(TEE) 내에서 실행되고 있음**
3. **응답이 이러한 제약 하에서 생성됨**, 사후에 주장된 것이 아님

이는 특히 사용자가 AI가 실제로 인간 중심의 안전 지향적 가드레일에 의해 제약되고 있음을 알아야 하는 고위험 상호작용에서 중요합니다.

## ClawGuard의 작동 방식

ClawGuard는 **AWS Nitro Enclaves**(하드웨어 기반 TEE)를 사용하여 검증 가능한 실행 환경을 만듭니다:

```
┌─────────────────────────────────────────────────┐
│  Nitro Enclave (신뢰할 수 있는 실행 환경)         │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │  가드레일 프록시 (localhost:8080)        │   │
│  │  ✓ 입출력 검증                           │   │
│  │  ✓ 콘텐츠 안전 검사                      │   │
│  │  ✓ 정책 시행                             │   │
│  │  ✓ 감사 로깅                             │   │
│  └──────────────┬──────────────────────────┘   │
│                 │ 모든 LLM 호출이 통과           │
│                 ↓                                │
│  ┌─────────────────────────────────────────┐   │
│  │  OpenClaw 에이전트                       │   │
│  │  구성: OPENAI_BASE_URL=:8080           │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │  증명 서버 (localhost:8765)              │   │
│  │  암호화 증명 생성                        │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
```

### 핵심 구성 요소

1. **가드레일 프록시**: 모든 LLM 상호작용은 정책을 시행하는 가드레일 가로채기 레이어를 통해 라우팅됩니다
2. **신뢰할 수 있는 실행 환경**: AWS Nitro Enclave는 코드가 격리되고 변조 방지된 상태로 실행되도록 보장합니다
3. **원격 증명**: enclave는 외부에서 검증할 수 있는 증명(PCR 측정값 포함)을 생성합니다
4. **검증 가능한 에이전트**: OpenClaw 에이전트는 enclave 내에서 실행되어 가드레일을 우회할 수 없습니다

## 설치 및 설정

### 전제 조건

- Nitro Enclave를 지원하는 AWS EC2 인스턴스(예: m5.xlarge)
- OpenClaw 설치됨
- OpenAI API 키 또는 호환 가능한 LLM 제공자

### 빠른 시작

1. **ClawGuard 리포지토리 복제:**

```bash
git clone https://github.com/SaharaLabsAI/Verifiable-ClawGuard.git
cd Verifiable-ClawGuard
```

2. **enclave 이미지 빌드:**

```bash
cd src
./build_and_deploy.sh
```

이렇게 하면 enclave가 빌드되고 **PCR2 측정값**(가드레일 코드의 암호화 해시)이 표시됩니다:

```
"PCR2": "6cb06673b5b9b74edd2dc459914353898c1612ff..."
```

이 측정값을 저장하세요—이것은 신뢰하는 가드레일 구성의 지문입니다.

3. **enclave 실행:**

```bash
nitro-cli run-enclave \
  --eif-path guardrail-vsock.eif \
  --memory 5700 \
  --cpu-count 2

# 할당된 CID 가져오기
ENCLAVE_CID=$(nitro-cli describe-enclaves | jq -r '.[0].EnclaveCID')
echo "Enclave running on CID: $ENCLAVE_CID"
```

4. **enclave 내에서 OpenClaw 시작:**

```bash
./ec2_setup.sh \
  --agent-version 2026.1.24-3 \
  --enclave-cid $ENCLAVE_CID \
  --api-key ${OPENAI_API_KEY}
```

이렇게 하면 모든 LLM 호출이 가드레일 프록시를 통과하도록 OpenClaw가 구성되고, 증명이 스킬로 등록됩니다.

5. **연결 및 증명 요청:**

SSH 포트 포워딩을 사용하여 게이트웨이에 액세스:

```bash
ssh -L 18789:127.0.0.1:18789 your-ec2-instance
```

웹 클라이언트를 열고 에이전트와 채팅합니다. 증명을 직접 요청:

```
"가드레일 하에서 실행되고 있음을 증명할 수 있나요?"
```

## 증명 검증

에이전트는 암호화 증명이 포함된 증명 문서로 응답합니다. 검증:

```bash
python verify_attestation.py \
  --file attestation_quote.json \
  --pcr2 6cb06673b5b9b74edd2dc459914353898c1612ff...
```

유효한 증명은 다음을 증명합니다:

1. **메시지가 진짜 AWS Nitro Enclave 내에서 처리됨**(서명 검증됨)
2. **신뢰하는 정확한 가드레일 코드가 실행 중임**(PCR2가 알려진 측정값과 일치)

## 핵심 기능

### 1. 가드레일의 암호화 증명

구성 주장에 의존하는 기존의 에이전트 보안과 달리, ClawGuard는 가드레일이 실제로 시행되고 있다는 암호화 증거를 제공합니다.

### 2. 하드웨어 기반 신뢰

AWS Nitro Enclaves는 하드웨어 수준의 격리를 제공합니다. 호스트 시스템조차도 enclave 내에서 실행되는 코드를 변조할 수 없습니다.

### 3. 에이전트 업데이트 간 안정적인 PCR

PCR2 측정값은 **가드레일 코드**에 연결되어 있으며 OpenClaw 버전이 아닙니다. 보안 태세를 변경하지 않고 OpenClaw를 업데이트할 수 있습니다.

### 4. 정책 시행

모든 LLM 상호작용은 가드레일 프록시를 통과하여 응답이 안전 검사를 우회하지 않도록 보장합니다.

### 5. 감사 추적

시스템은 모든 보호된 상호작용을 로깅하여 에이전트 동작의 감사 가능한 기록을 생성합니다.

## 사용 사례

### 사용자용: 에이전트 안전성 검증

민감한 정보를 공유하거나 고위험 작업을 위임하기 전에:

```
사용자: "재무 결정에 대한 조언이 필요합니다.
       안전 가드레일 하에서 실행되고 있음을 증명할 수 있나요?"

에이전트: [PCR 측정값이 포함된 증명 제공]

사용자: [PCR2가 알려진 안전한 가드레일과 일치하는지 검증]
       "검증됨. 이제 편안하게 진행할 수 있습니다."
```

### 서비스 제공자용: 인프라 보호

영향력이 큰 도구나 민감한 데이터를 제공하기 전에 증명 요구:

```python
def serve_sensitive_api(agent_request):
    attestation = agent_request.get_attestation()
    
    if not verify_attestation(attestation, TRUSTED_PCR2):
        return "액세스 거부: 가드레일 검증 실패"
    
    # 안전하게 제공 - 에이전트가 증명 가능하게 제약됨
    return process_request(agent_request)
```

### 데이터 소유자용: 사용 경계 시행

"분석하되 유출하지 않음"과 같은 정책 시행:

```
데이터 소유자: "이 데이터셋에 액세스할 수 있지만,
              데이터 보호 가드레일 하에서 실행되고 있음을 증명한 경우에만 가능합니다."

에이전트: [올바른 가드레일이 활성화되어 있음을 증명하는 증명 제공]

데이터 소유자: [검증 후 액세스 허용]
```

## 실제 예제

ClawGuard 상호작용은 다음과 같습니다:

**사용자가 고위험 질문을 합니다:**
> "퇴직 저축을 스타트업에 투자하는 것을 고려하고 있습니다. 해야 할까요?"

**ClawGuard 없이:** 에이전트에 안전 제약이 있기를 바라지만 검증할 수 없습니다.

**ClawGuard와 함께:** 증명을 요청합니다:
> "가드레일에 대한 증명된 요약을 제공할 수 있나요?"

**에이전트 응답:**
1. 질문에 대한 신중한 답변
2. 다음을 증명하는 증명 문서:
   - 응답이 TEE 내에서 생성됨
   - 알려진 안전 가드레일이 활성화됨
   - 재무 조언 정책이 시행됨

조언을 신뢰하기 전에 PCR2 측정값을 독립적으로 검증합니다.

## 제한 사항 및 향후 작업

ClawGuard는 **연구 프로토타입**이며 완제품이 아닙니다. 중요한 주의 사항:

### 현재 제한 사항

- **가드레일이 완벽하지 않음**: 시스템은 약속된 가드레일이 실행되고 있음을 보장하지만, 가드레일이 모든 것을 포착한다고 보장할 수 없습니다
- **아직 엔드 투 엔드 암호화 없음**: 이 버전에서는 사용자와 enclave 간의 통신이 완전히 암호화되지 않습니다
- **디버그 모드 주의**: 디버그 모드가 활성화되면 PCR2는 모두 0입니다(개발 전용)

### 향후 작업

- 더 강력한 실행 제약(임의 명령 실행 차단)
- 엔드 투 엔드 암호화 통신
- 허용 가능한 에이전트 빌드를 위한 가드레일 허용 목록
- Sahara AI의 [x402 프로토콜](https://github.com/SaharaLabsAI/x-function)과의 통합(마이크로페이먼트 게이트 도구 액세스용)

## 관련 리소스

- **GitHub 리포지토리**: [SaharaLabsAI/Verifiable-ClawGuard](https://github.com/SaharaLabsAI/Verifiable-ClawGuard)
- **Sahara AI 블로그**: [ClawGuard 발표](https://saharaai.com/zh/blog/openclaw-agent-guardrails)
- **에이전트 프로토콜**: [x402 확장 기능이 있는 x-function](https://github.com/SaharaLabsAI/x-function/tree/main/verifiable)

## 결론

AI 에이전트가 더 많은 책임을 맡게 됨에 따라, 중요한 질문은 다음에서:

**"이 에이전트를 신뢰합니까?"**

다음으로 변경됩니다:

**"이 에이전트가 신뢰할 가치가 있음을 증명할 수 있습니까?"**

ClawGuard는 그 증명을 가능하게 하는 초기 단계입니다. 에이전트를 완벽하게 안전하게 만든다고 주장하지는 않지만, 안전 제약을 **검증 가능하고, 감사 가능하며, 시행 가능하게** 만듭니다.

민감한 데이터 처리, 재무 결정, 중요한 인프라 서비스 등 고신뢰 환경에서 운영되는 OpenClaw 사용자에게 ClawGuard는 암호학적으로 검증 가능한 에이전트 보안으로 가는 길을 제공합니다.

---

**ClawGuard를 사용해 볼 준비가 되셨나요?** 설치 지침 및 데모 비디오는 [GitHub 리포지토리](https://github.com/SaharaLabsAI/Verifiable-ClawGuard)를 확인하세요.

**질문이 있으신가요?** [문제 해결 가이드](/blog/troubleshooting)를 참조하거나 OpenClaw 커뮤니티 토론에 참여하세요.
