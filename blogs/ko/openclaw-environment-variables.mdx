---
title: "OpenClaw 환경 변수 완벽 가이드: 설정 레퍼런스"
description: "OpenClaw 환경 변수를 마스터하세요. Gateway 설정, 모델 인증, 배포 설정을 다룹니다. OPENCLAW_GATEWAY_TOKEN, API 키, 바인드 설정, 플랫폼별 구성을 설명합니다."
slug: /openclaw-environment-variables
publishedAt: 2026-02-17
status: published
visibility: public
featuredImageUrl: /images/features/env-vars-guide.webp
---

# OpenClaw 환경 변수 완벽 가이드: 설정 레퍼런스

환경 변수는 OpenClaw 배포의 기반입니다. 로컬, VPS, Docker 어디에서 실행하든 이러한 변수를 이해하는 것은 보안, 연결성, 적절한 인증에 필수적입니다.

이 가이드는 실제 예제와 문제 해결 팁을 포함하여 알아야 할 모든 환경 변수를 다룹니다.

## 빠른 참조 테이블

| 변수 | 필수 여부 | 용도 |
|------|----------|------|
| `OPENCLAW_GATEWAY_TOKEN` | 원격 시 필수 | Gateway 인증 토큰 |
| `OPENCLAW_GATEWAY_PORT` | 아니오 | Gateway 포트 (기본: 18789) |
| `OPENCLAW_GATEWAY_BIND` | 아니오 | 네트워크 바인딩 (lan/tailnet) |
| `ANTHROPIC_API_KEY` | 예* | Anthropic 모델 접근 |
| `OPENAI_API_KEY` | 예* | OpenAI 모델 접근 |
| `BRAVE_API_KEY` | 아니오 | 웹 검색 기능 |
| `GEMINI_API_KEY` | 아니오 | Google Gemini 모델 |

*최소 하나의 모델 API 키가 필요합니다.

## Gateway 변수

### OPENCLAW_GATEWAY_TOKEN

가장 중요한 보안 변수입니다. Gateway가 비루프백 주소에 바인딩될 때 필요합니다.

```bash
# 보안 토큰 생성
export OPENCLAW_GATEWAY_TOKEN=$(openssl rand -hex 32)
```

**필요한 경우:**
- Docker 배포
- VPS/클라우드 호스팅
- localhost가 아닌 모든 접근

**보안 참고사항:**
- 관리자 비밀로 취급
- 버전 관리에 커밋하지 않음
- 프로덕션에서 주기적으로 교체

### OPENCLAW_GATEWAY_PORT

기본 Gateway 포트(18789)를 재정의합니다.

```bash
export OPENCLAW_GATEWAY_PORT=3000
```

**일반적인 시나리오:**
- 다른 서비스와 포트 충돌
- 플랫폼 요구사항 (예: Fly.io 헬스 체크)
- 리버스 프록시 설정

### OPENCLAW_GATEWAY_BIND

Gateway가 리슨하는 네트워크 인터페이스를 제어합니다.

```bash
# 모든 LAN 인터페이스에서 리슨
export OPENCLAW_GATEWAY_BIND=lan

# Tailscale 인터페이스에서만 리슨
export OPENCLAW_GATEWAY_BIND=tailnet
```

**옵션:**
- `localhost` (기본) — 루프백만
- `lan` — 모든 네트워크 인터페이스
- `tailnet` — Tailscale 인터페이스만

**보안 경고:** `OPENCLAW_GATEWAY_TOKEN` 없이 `lan`을 사용하는 것은 위험합니다!

## 모델 API 키

### ANTHROPIC_API_KEY

Claude 모델의 기본 키입니다.

```bash
export ANTHROPIC_API_KEY="sk-ant-api03-..."
```

**설정 옵션:**
1. 셸에서 export
2. `~/.openclaw/.env`에 추가
3. `openclaw onboard` 마법사 사용

**확인:**

```bash
openclaw models status
openclaw doctor
```

### OPENAI_API_KEY

OpenAI 모델(GPT-4 등)용입니다.

```bash
export OPENAI_API_KEY="sk-..."
```

### GEMINI_API_KEY

Google Gemini 모델 및 이미지 생성용입니다.

```bash
export GEMINI_API_KEY="AIza..."
```

## 도구별 변수

### BRAVE_API_KEY

웹 검색 기능을 활성화합니다.

```bash
export BRAVE_API_KEY="BSA..."
```

**참고:** "Data for AI"가 아닌 "Data for Search" 플랜을 사용하세요.

## 플랫폼별 구성

### Docker / Docker Compose

`.env` 파일 생성:

```bash
OPENCLAW_GATEWAY_TOKEN=your-secure-token
OPENCLAW_GATEWAY_BIND=lan
OPENCLAW_GATEWAY_PORT=18789
ANTHROPIC_API_KEY=sk-ant-...
```

`docker-compose.yml`에서 참조:

```yaml
services:
  openclaw:
    image: openclaw/gateway
    env_file:
      - .env
    ports:
      - "18789:18789"
```

### Fly.io

CLI로 시크릿 설정:

```bash
fly secrets set OPENCLAW_GATEWAY_TOKEN=$(openssl rand -hex 32)
fly secrets set ANTHROPIC_API_KEY=sk-ant-...
```

**중요:** `internal_port`를 `OPENCLAW_GATEWAY_PORT`와 일치시키세요:

```toml
[[services]]
  internal_port = 3000
```

```bash
fly secrets set OPENCLAW_GATEWAY_PORT=3000
```

### Hetzner / GCP / 일반 VPS

서버에 `~/.openclaw/.env` 생성:

```bash
OPENCLAW_GATEWAY_TOKEN=change-me-now
OPENCLAW_GATEWAY_BIND=lan
OPENCLAW_GATEWAY_PORT=18789
ANTHROPIC_API_KEY=sk-ant-...
```

그런 다음 Gateway 재시작:

```bash
openclaw gateway restart
```

### systemd / launchd

데몬 영속성을 위해 키를 `~/.openclaw/.env`에 배치:

```bash
cat >> ~/.openclaw/.env << 'EOF'
ANTHROPIC_API_KEY=sk-ant-...
BRAVE_API_KEY=BSA...
EOF
```

Gateway는 시작 시 이 파일을 자동으로 읽습니다.

## ~/.openclaw/.env 파일

영구 환경 변수의 권장 위치:

```bash
# ~/.openclaw/.env
ANTHROPIC_API_KEY=sk-ant-api03-xxx
OPENAI_API_KEY=sk-xxx
BRAVE_API_KEY=BSA-xxx
OPENCLAW_GATEWAY_TOKEN=your-secure-token
```

**이 파일을 사용하는 이유:**
- 셸 재시작 후에도 유지
- systemd/launchd 데몬과 작동
- 비밀을 셸 기록에서 제외
- 단일 진실 소스

## 고급 변수

### Exec 도구 구성

```bash
# 기본 백그라운드 타임아웃 (밀리초)
PI_BASH_YIELD_MS=10000

# 최대 출력 버퍼 (문자)
PI_BASH_MAX_OUTPUT_CHARS=100000

# 완료된 세션의 TTL (밀리초, 1분-3시간)
PI_BASH_JOB_TTL_MS=1800000
```

### Canvas 호스트

```bash
# canvas 호스트 비활성화
OPENCLAW_SKIP_CANVAS_HOST=1
```

## 문제 해결

### "No credentials found"

**원인:** API 키가 설정되지 않았거나 Gateway가 읽을 수 없음.

**해결:**
1. 변수가 export되었는지 확인: `echo $ANTHROPIC_API_KEY`
2. 데몬을 사용하는 경우 `~/.openclaw/.env`에 추가
3. Gateway 재시작: `openclaw gateway restart`
4. 확인: `openclaw models status`

### 원격 Gateway에서 "Connection refused"

**원인:** Gateway가 localhost에만 바인딩됨.

**해결:**
```bash
export OPENCLAW_GATEWAY_BIND=lan
export OPENCLAW_GATEWAY_TOKEN=$(openssl rand -hex 32)
openclaw gateway restart
```

### "Unauthorized" 오류

**원인:** 클라이언트와 Gateway 간 토큰 불일치.

**해결:**
1. Gateway 호스트에서 토큰 확인: `echo $OPENCLAW_GATEWAY_TOKEN`
2. 클라이언트에서 연결 시 동일한 토큰 사용
3. 공백이나 따옴표 문제가 없는지 확인

### 포트가 이미 사용 중

**원인:** 다른 프로세스가 포트 18789를 사용 중.

**해결:**
```bash
# 프로세스 찾기
lsof -i :18789

# 다른 포트 사용
export OPENCLAW_GATEWAY_PORT=3001
openclaw gateway restart
```

## 모범 사례

1. **시크릿을 커밋하지 않음** — `.env` 파일을 사용하고 `.gitignore`에 추가
2. **보안 토큰 생성 사용** — `openssl rand -hex 32` 또는 동등한 것
3. **`~/.openclaw/.env` 선호** — 재시작과 데몬에서 작동
4. **주기적으로 토큰 교체** — 특히 프로덕션에서
5. **`openclaw doctor` 사용** — 구성 문제를 조기에 발견
6. **가능하면 tailnet에 바인드** — `lan`보다 안전

## 환경 변수 우선순위

OpenClaw는 다음 순서로 변수를 읽습니다 (나중 것이 우선):

1. 시스템 환경
2. `~/.openclaw/.env` 파일
3. 설정 파일 (`~/.openclaw/openclaw.json`)

## 요약

환경 변수는 OpenClaw의 보안, 연결성, 모델 접근을 제어합니다:

| 카테고리 | 주요 변수 |
|----------|----------|
| **보안** | `OPENCLAW_GATEWAY_TOKEN` |
| **네트워크** | `OPENCLAW_GATEWAY_BIND`, `OPENCLAW_GATEWAY_PORT` |
| **모델** | `ANTHROPIC_API_KEY`, `OPENAI_API_KEY`, `GEMINI_API_KEY` |
| **도구** | `BRAVE_API_KEY` |

이것들을 올바르게 설정하면 OpenClaw 배포가 안전하고 기능적입니다.

## 관련 리소스

- [Gateway 구성](/docs/gateway) — 전체 Gateway 설정 가이드
- [Docker 배포](/docs/docker) — 컨테이너화된 배포
- [VPS 설정](/docs/vps) — 클라우드 서버 배포
- [인증](/docs/authentication) — 모델 인증 심층 분석
