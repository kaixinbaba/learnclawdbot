---
summary: "`openclaw doctor`のCLIリファレンス（ヘルスチェック + ガイド付き修復）"
read_when:
  - 接続/認証の問題があり、ガイド付き修正が必要な場合
  - 更新後に動作確認を行いたい場合
---

# `openclaw doctor`

gatewayとチャネルのヘルスチェック + クイックフィックス。

関連:
- トラブルシューティング: [Troubleshooting](/gateway/troubleshooting)
- セキュリティ監査: [Security](/gateway/security)

## 例

```bash
openclaw doctor
openclaw doctor --repair
openclaw doctor --deep
```

注意事項:
- 対話式プロンプト（キーチェーン/OAuth修正など）は、stdinがTTYで`--non-interactive`が設定されて**いない**場合にのみ実行されます。ヘッドレス実行（cron、Telegram、ターミナルなし）ではプロンプトをスキップします。
- `--fix`（`--repair`のエイリアス）は、`~/.openclaw/openclaw.json.bak`にバックアップを書き込み、不明な設定キーを削除し、各削除をリストします。

## macOS: `launchctl` env オーバーライド

以前に`launchctl setenv OPENCLAW_GATEWAY_TOKEN ...`（または`...PASSWORD`）を実行した場合、その値は設定ファイルをオーバーライドし、永続的な「unauthorized」エラーを引き起こす可能性があります。

```bash
launchctl getenv OPENCLAW_GATEWAY_TOKEN
launchctl getenv OPENCLAW_GATEWAY_PASSWORD

launchctl unsetenv OPENCLAW_GATEWAY_TOKEN
launchctl unsetenv OPENCLAW_GATEWAY_PASSWORD
```
