---
summary: "`openclaw approvals`のCLIリファレンス（gatewayまたはnodeホストのexec承認）"
read_when:
  - CLIからexec承認を編集したい場合
  - gatewayまたはnodeホストで許可リストを管理する必要がある場合
---

# `openclaw approvals`

**ローカルホスト**、**gatewayホスト**、または**nodeホスト**のexec承認を管理します。
デフォルトでは、コマンドはディスク上のローカル承認ファイルをターゲットにします。gatewayをターゲットにするには`--gateway`を、特定のnodeをターゲットにするには`--node`を使用します。

関連:
- Exec承認: [Exec approvals](/tools/exec-approvals)
- Nodes: [Nodes](/nodes)

## 一般的なコマンド

```bash
openclaw approvals get
openclaw approvals get --node <id|name|ip>
openclaw approvals get --gateway
```

## ファイルから承認を置換

```bash
openclaw approvals set --file ./exec-approvals.json
openclaw approvals set --node <id|name|ip> --file ./exec-approvals.json
openclaw approvals set --gateway --file ./exec-approvals.json
```

## 許可リストヘルパー

```bash
openclaw approvals allowlist add "~/Projects/**/bin/rg"
openclaw approvals allowlist add --agent main --node <id|name|ip> "/usr/bin/uptime"
openclaw approvals allowlist add --agent "*" "/usr/bin/uname"

openclaw approvals allowlist remove "~/Projects/**/bin/rg"
```

## 注意事項

- `--node`は`openclaw nodes`と同じリゾルバーを使用します（id、name、ip、またはidプレフィックス）。
- `--agent`のデフォルトは`"*"`で、すべてのエージェントに適用されます。
- nodeホストは`system.execApprovals.get/set`をアドバタイズする必要があります（macOSアプリまたはヘッドレスnodeホスト）。
- 承認ファイルは、ホストごとに`~/.openclaw/exec-approvals.json`に保存されます。
