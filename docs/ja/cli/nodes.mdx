---
summary: "`openclaw nodes` の CLI リファレンス（list/status/approve/invoke、camera/canvas/screen）"
read_when:
  - ペアリングされたノード（カメラ、スクリーン、キャンバス）を管理している場合
  - リクエストを承認したり、ノードコマンドを呼び出したりする必要がある場合
---

# `openclaw nodes`

ペアリングされたノード（デバイス）を管理し、ノード機能を呼び出します。

関連項目：
- ノード概要：[Nodes](/nodes)
- カメラ：[Camera nodes](/nodes/camera)
- 画像：[Image nodes](/nodes/images)

共通オプション：
- `--url`、`--token`、`--timeout`、`--json`

## 共通コマンド

```bash
openclaw nodes list
openclaw nodes list --connected
openclaw nodes list --last-connected 24h
openclaw nodes pending
openclaw nodes approve <requestId>
openclaw nodes status
openclaw nodes status --connected
openclaw nodes status --last-connected 24h
```

`nodes list` は保留中/ペアリング済みのテーブルを表示します。ペアリング済みの行には、最新の接続経過時間（Last Connect）が含まれます。
現在接続されているノードのみを表示するには `--connected` を使用します。期間内（例：`24h`、`7d`）に接続したノードでフィルタするには `--last-connected <duration>` を使用します。

## Invoke / run

```bash
openclaw nodes invoke --node <id|name|ip> --command <command> --params <json>
openclaw nodes run --node <id|name|ip> <command...>
openclaw nodes run --raw "git status"
openclaw nodes run --agent main --node <id|name|ip> --raw "git status"
```

Invoke フラグ：
- `--params <json>`：JSON オブジェクト文字列（デフォルト `{}`）。
- `--invoke-timeout <ms>`：ノード呼び出しタイムアウト（デフォルト `15000`）。
- `--idempotency-key <key>`：オプションのべき等キー。

### Exec スタイルのデフォルト

`nodes run` はモデルの exec 動作（デフォルト + 承認）を反映します：

- `tools.exec.*`（および `agents.list[].tools.exec.*` のオーバーライド）を読み取ります。
- `system.run` を呼び出す前に exec 承認（`exec.approval.request`）を使用します。
- `tools.exec.node` が設定されている場合、`--node` を省略できます。
- `system.run` をアドバタイズするノード（macOS コンパニオンアプリまたはヘッドレスノードホスト）が必要です。

フラグ：
- `--cwd <path>`：作業ディレクトリ。
- `--env <key=val>`：環境変数のオーバーライド（繰り返し可能）。
- `--command-timeout <ms>`：コマンドタイムアウト。
- `--invoke-timeout <ms>`：ノード呼び出しタイムアウト（デフォルト `30000`）。
- `--needs-screen-recording`：スクリーン録画権限を要求。
- `--raw <command>`：シェル文字列を実行（`/bin/sh -lc` または `cmd.exe /c`）。
- `--agent <id>`：エージェントスコープの承認/許可リスト（設定されたエージェントがデフォルト）。
- `--ask <off|on-miss|always>`、`--security <deny|allowlist|full>`：オーバーライド。
