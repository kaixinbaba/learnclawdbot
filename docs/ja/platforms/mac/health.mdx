---
summary: "macOSアプリがGateway/Baileys健全性状態を報告する方法"
read_when:
  - Macアプリの健全性インジケーターをデバッグする場合
---
# macOSでの健全性チェック

メニューバーアプリからリンクされたチャネルが健全かどうかを確認する方法。

## メニューバー
- ステータスドットはBaileys healthを反映します:
  - 緑: リンク済み + 最近ソケットが開かれた。
  - オレンジ: 接続中/再試行中。
  - 赤: ログアウトまたはプローブ失敗。
- セカンダリラインは「linked · auth 12m」と読まれるか、失敗理由を表示します。
- 「Run Health Check」メニュー項目はオンデマンドプローブをトリガーします。

## 設定
- GeneralタブにHealthカードが表示され、以下が表示されます: リンク認証経過時間、session-storeパス/カウント、最終チェック時刻、最終エラー/ステータスコード、Run Health Check/Reveal Logsのボタン。
- キャッシュされたスナップショットを使用するため、UIが即座にロードされ、オフライン時にも適切にフォールバックします。
- **ChannelsタブはWhatsApp/Telegramのチャネルステータス + コントロール（ログインQR、ログアウト、プローブ、最終切断/エラー）を表示します。

## プローブの仕組み
- アプリは約60秒ごと、およびオンデマンドで`ShellExecutor`経由で`openclaw health --json`を実行します。プローブはcredをロードし、メッセージを送信せずにステータスを報告します。
- ちらつきを避けるため、最後の良好なスナップショットと最後のエラーを別々にキャッシュします。それぞれのタイムスタンプを表示します。

## 疑わしい場合
- [Gateway health](/gateway/health)のCLIフロー（`openclaw status`、`openclaw status --deep`、`openclaw health --json`）を引き続き使用でき、`/tmp/openclaw/openclaw-*.log`で`web-heartbeat` / `web-reconnect`をtailできます。
