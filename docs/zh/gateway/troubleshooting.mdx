---
summary: "å¸¸è§ OpenClaw æ•…éšœçš„å¿«é€Ÿæ’æŸ¥æŒ‡å—"
read_when:
  - è°ƒæŸ¥è¿è¡Œæ—¶é—®é¢˜æˆ–æ•…éšœæ—¶
---
# æ•…éšœæ’æŸ¥ ğŸ”§

å½“ OpenClaw å‡ºç°å¼‚å¸¸æ—¶ï¼Œä»¥ä¸‹æ˜¯ä¿®å¤æ–¹æ³•ã€‚

å¦‚æœæ‚¨åªæƒ³è¦å¿«é€Ÿåˆ†ç±»æ–¹æ³•ï¼Œè¯·ä» FAQ çš„ [å‰ 60 ç§’](/help/faq#first-60-seconds-if-somethings-broken) å¼€å§‹ã€‚æœ¬é¡µé¢å°†æ·±å…¥ä»‹ç»è¿è¡Œæ—¶æ•…éšœå’Œè¯Šæ–­ã€‚

ç‰¹å®šæä¾›å•†çš„å¿«æ·æ–¹å¼ï¼š[/channels/troubleshooting](/channels/troubleshooting)

## çŠ¶æ€ä¸è¯Šæ–­

å¿«é€Ÿåˆ†ç±»å‘½ä»¤ï¼ˆæŒ‰é¡ºåºï¼‰ï¼š

| å‘½ä»¤ | å‘Šè¯‰ä½ ä»€ä¹ˆ | ä½•æ—¶ä½¿ç”¨ |
|---|---|---|
| `openclaw status` | æœ¬åœ°æ‘˜è¦ï¼šOS + æ›´æ–°ã€gateway å¯è¾¾æ€§/æ¨¡å¼ã€æœåŠ¡ã€agents/sessionsã€provider é…ç½®çŠ¶æ€ | é¦–æ¬¡æ£€æŸ¥ï¼Œå¿«é€Ÿæ¦‚è§ˆ |
| `openclaw status --all` | å®Œæ•´æœ¬åœ°è¯Šæ–­ï¼ˆåªè¯»ã€å¯ç²˜è´´ã€ç›¸å¯¹å®‰å…¨ï¼‰åŒ…æ‹¬æ—¥å¿—å°¾éƒ¨ | éœ€è¦åˆ†äº«è°ƒè¯•æŠ¥å‘Šæ—¶ |
| `openclaw status --deep` | è¿è¡Œ gateway health checksï¼ˆå¥åº·æ£€æŸ¥ï¼‰ï¼ˆåŒ…æ‹¬ provider æ¢æµ‹ï¼›éœ€è¦å¯è¾¾çš„ gatewayï¼‰ | å½“"å·²é…ç½®"ä¸æ„å‘³ç€"æ­£å¸¸å·¥ä½œ"æ—¶ |
| `openclaw gateway probe` | Gateway å‘ç° + å¯è¾¾æ€§ï¼ˆæœ¬åœ° + è¿œç¨‹ç›®æ ‡ï¼‰ | å½“ä½ æ€€ç–‘æ­£åœ¨æ¢æµ‹é”™è¯¯çš„ gateway æ—¶ |
| `openclaw channels status --probe` | å‘è¿è¡Œä¸­çš„ gateway è¯·æ±‚ channelï¼ˆé¢‘é“ï¼‰çŠ¶æ€ï¼ˆå¯é€‰æ¢æµ‹ï¼‰ | å½“ gateway å¯è¾¾ä½† channels å¼‚å¸¸æ—¶ |
| `openclaw gateway status` | Supervisorï¼ˆç›‘ç®¡å™¨ï¼‰çŠ¶æ€ï¼ˆlaunchd/systemd/schtasksï¼‰ã€è¿è¡Œæ—¶ PID/é€€å‡ºã€æœ€åçš„ gateway é”™è¯¯ | å½“æœåŠ¡"çœ‹èµ·æ¥å·²åŠ è½½"ä½†æ²¡æœ‰è¿è¡Œæ—¶ |
| `openclaw logs --follow` | å®æ—¶æ—¥å¿—ï¼ˆè¿è¡Œæ—¶é—®é¢˜çš„æœ€ä½³ä¿¡å·ï¼‰ | éœ€è¦å®é™…çš„æ•…éšœåŸå› æ—¶ |

**åˆ†äº«è¾“å‡ºï¼š** ä¼˜å…ˆä½¿ç”¨ `openclaw status --all`ï¼ˆå®ƒä¼šç¼–è¾‘ tokenï¼ˆä»¤ç‰Œï¼‰ï¼‰ã€‚å¦‚æœç²˜è´´ `openclaw status`ï¼Œè€ƒè™‘å…ˆè®¾ç½® `OPENCLAW_SHOW_SECRETS=0`ï¼ˆtoken é¢„è§ˆï¼‰ã€‚

å¦è§ï¼š[Health checks](/gateway/health) å’Œ [Logging](/logging)ã€‚

## å¸¸è§é—®é¢˜

### No API key found for provider "anthropic"

è¿™æ„å‘³ç€ **agent çš„ auth storeï¼ˆèº«ä»½éªŒè¯å­˜å‚¨ï¼‰ä¸ºç©º** æˆ–ç¼ºå°‘ Anthropic å‡­æ®ã€‚
Authï¼ˆèº«ä»½éªŒè¯ï¼‰æ˜¯ **æ¯ä¸ª agent**ï¼Œå› æ­¤æ–° agent ä¸ä¼šç»§æ‰¿ä¸» agent çš„å¯†é’¥ã€‚

ä¿®å¤é€‰é¡¹ï¼š
- é‡æ–°è¿è¡Œ onboardingï¼ˆå…¥é—¨å¼•å¯¼ï¼‰å¹¶ä¸ºè¯¥ agent é€‰æ‹© **Anthropic**ã€‚
- æˆ–åœ¨ **gateway hostï¼ˆä¸»æœºï¼‰** ä¸Šç²˜è´´ setup-tokenï¼ˆè®¾ç½®ä»¤ç‰Œï¼‰ï¼š
  ```bash
  openclaw models auth setup-token --provider anthropic
  ```
- æˆ–å°† `auth-profiles.json` ä»ä¸» agent ç›®å½•å¤åˆ¶åˆ°æ–° agent ç›®å½•ã€‚

éªŒè¯ï¼š
```bash
openclaw models status
```

### OAuth token refresh failed (Anthropic Claude subscription)

è¿™æ„å‘³ç€å­˜å‚¨çš„ Anthropic OAuth tokenï¼ˆä»¤ç‰Œï¼‰å·²è¿‡æœŸä¸”åˆ·æ–°å¤±è´¥ã€‚
å¦‚æœæ‚¨ä½¿ç”¨ Claude è®¢é˜…ï¼ˆæ²¡æœ‰ API å¯†é’¥ï¼‰ï¼Œæœ€å¯é çš„ä¿®å¤æ–¹æ³•æ˜¯åˆ‡æ¢åˆ° **Claude Code setup-token** å¹¶åœ¨ **gateway host** ä¸Šç²˜è´´ã€‚

**æ¨èï¼ˆsetup-tokenï¼‰ï¼š**

```bash
# åœ¨ gateway host ä¸Šè¿è¡Œï¼ˆç²˜è´´ setup-tokenï¼‰
openclaw models auth setup-token --provider anthropic
openclaw models status
```

å¦‚æœæ‚¨åœ¨å…¶ä»–åœ°æ–¹ç”Ÿæˆäº† tokenï¼š

```bash
openclaw models auth paste-token --provider anthropic
openclaw models status
```

æ›´å¤šè¯¦æƒ…ï¼š[Anthropic](/providers/anthropic) å’Œ [OAuth](/concepts/oauth)ã€‚

### Control UI fails on HTTP ("device identity required" / "connect failed")

å¦‚æœæ‚¨é€šè¿‡çº¯ HTTP æ‰“å¼€ dashboardï¼ˆæ§åˆ¶é¢æ¿ï¼‰ï¼ˆä¾‹å¦‚ `http://<lan-ip>:18789/` æˆ– `http://<tailscale-ip>:18789/`ï¼‰ï¼Œæµè§ˆå™¨åœ¨ **éå®‰å…¨ä¸Šä¸‹æ–‡** ä¸­è¿è¡Œå¹¶é˜»æ­¢ WebCryptoï¼Œå› æ­¤æ— æ³•ç”Ÿæˆè®¾å¤‡èº«ä»½ã€‚

**ä¿®å¤ï¼š**
- é€šè¿‡ [Tailscale Serve](/gateway/tailscale) ä¼˜å…ˆä½¿ç”¨ HTTPSã€‚
- æˆ–åœ¨ gateway host ä¸Šæœ¬åœ°æ‰“å¼€ï¼š`http://127.0.0.1:18789/`ã€‚
- å¦‚æœå¿…é¡»ä¿æŒ HTTPï¼Œå¯ç”¨ `gateway.controlUi.allowInsecureAuth: true` å¹¶ä½¿ç”¨ gateway tokenï¼ˆä»… tokenï¼›æ— è®¾å¤‡èº«ä»½/é…å¯¹ï¼‰ã€‚å‚è§ [Control UI](/web/control-ui#insecure-http)ã€‚

### CI Secrets Scan Failed

è¿™æ„å‘³ç€ `detect-secrets` å‘ç°äº†å°šæœªåœ¨ baselineï¼ˆåŸºçº¿ï¼‰ä¸­çš„æ–°å€™é€‰é¡¹ã€‚
éµå¾ª [Secret scanning](/gateway/security#secret-scanning-detect-secrets)ã€‚

### Service Installed but Nothing is Running

å¦‚æœ gateway serviceï¼ˆæœåŠ¡ï¼‰å·²å®‰è£…ä½†è¿›ç¨‹ç«‹å³é€€å‡ºï¼ŒæœåŠ¡å¯èƒ½æ˜¾ç¤º"å·²åŠ è½½"ä½†æ²¡æœ‰è¿è¡Œã€‚

**æ£€æŸ¥ï¼š**
```bash
openclaw gateway status
openclaw doctor
```

Doctor/service å°†æ˜¾ç¤ºè¿è¡Œæ—¶çŠ¶æ€ï¼ˆPID/æœ€åé€€å‡ºï¼‰å’Œæ—¥å¿—æç¤ºã€‚

**æ—¥å¿—ï¼š**
- ä¼˜å…ˆï¼š`openclaw logs --follow`
- æ–‡ä»¶æ—¥å¿—ï¼ˆå§‹ç»ˆï¼‰ï¼š`/tmp/openclaw/openclaw-YYYY-MM-DD.log`ï¼ˆæˆ–æ‚¨é…ç½®çš„ `logging.file`ï¼‰
- macOS LaunchAgentï¼ˆå¦‚æœå·²å®‰è£…ï¼‰ï¼š`$OPENCLAW_STATE_DIR/logs/gateway.log` å’Œ `gateway.err.log`
- Linux systemdï¼ˆå¦‚æœå·²å®‰è£…ï¼‰ï¼š`journalctl --user -u openclaw-gateway[-<profile>].service -n 200 --no-pager`
- Windowsï¼š`schtasks /Query /TN "OpenClaw Gateway (<profile>)" /V /FO LIST`

**å¯ç”¨æ›´å¤šæ—¥å¿—è®°å½•ï¼š**
- æé«˜æ–‡ä»¶æ—¥å¿—è¯¦ç»†ç¨‹åº¦ï¼ˆæŒä¹…åŒ– JSONLï¼‰ï¼š
  ```json
  { "logging": { "level": "debug" } }
  ```
- æé«˜æ§åˆ¶å°è¯¦ç»†ç¨‹åº¦ï¼ˆä»… TTY è¾“å‡ºï¼‰ï¼š
  ```json
  { "logging": { "consoleLevel": "debug", "consoleStyle": "pretty" } }
  ```
- å¿«é€Ÿæç¤ºï¼š`--verbose` ä»…å½±å“ **æ§åˆ¶å°** è¾“å‡ºã€‚æ–‡ä»¶æ—¥å¿—ä»ç”± `logging.level` æ§åˆ¶ã€‚

æœ‰å…³æ ¼å¼ã€é…ç½®å’Œè®¿é—®çš„å®Œæ•´æ¦‚è¿°ï¼Œè¯·å‚é˜… [/logging](/logging)ã€‚

### "Gateway start blocked: set gateway.mode=local"

è¿™æ„å‘³ç€é…ç½®å­˜åœ¨ä½† `gateway.mode` æœªè®¾ç½®ï¼ˆæˆ–ä¸æ˜¯ `local`ï¼‰ï¼Œå› æ­¤ Gateway æ‹’ç»å¯åŠ¨ã€‚

**ä¿®å¤ï¼ˆæ¨èï¼‰ï¼š**
- è¿è¡Œå‘å¯¼å¹¶å°† Gateway è¿è¡Œæ¨¡å¼è®¾ç½®ä¸º **Localï¼ˆæœ¬åœ°ï¼‰**ï¼š
  ```bash
  openclaw configure
  ```
- æˆ–ç›´æ¥è®¾ç½®ï¼š
  ```bash
  openclaw config set gateway.mode local
  ```

**å¦‚æœæ‚¨æ‰“ç®—è¿è¡Œè¿œç¨‹ Gatewayï¼š**
- è®¾ç½®è¿œç¨‹ URL å¹¶ä¿æŒ `gateway.mode=remote`ï¼š
  ```bash
  openclaw config set gateway.mode remote
  openclaw config set gateway.remote.url "wss://gateway.example.com"
  ```

**ä»…é™ä¸´æ—¶/å¼€å‘ï¼š** ä¼ é€’ `--allow-unconfigured` ä»¥åœ¨æ²¡æœ‰ `gateway.mode=local` çš„æƒ…å†µä¸‹å¯åŠ¨ gatewayã€‚

**è¿˜æ²¡æœ‰é…ç½®æ–‡ä»¶ï¼Ÿ** è¿è¡Œ `openclaw setup` åˆ›å»ºå¯åŠ¨é…ç½®ï¼Œç„¶åé‡æ–°è¿è¡Œ gatewayã€‚

### Service Environment (PATH + runtime)

Gateway serviceï¼ˆæœåŠ¡ï¼‰ä½¿ç”¨ **æœ€å° PATH** è¿è¡Œä»¥é¿å… shell/manager æ··ä¹±ï¼š
- macOSï¼š`/opt/homebrew/bin`ã€`/usr/local/bin`ã€`/usr/bin`ã€`/bin`
- Linuxï¼š`/usr/local/bin`ã€`/usr/bin`ã€`/bin`

è¿™æœ‰æ„æ’é™¤ç‰ˆæœ¬ç®¡ç†å™¨ï¼ˆnvm/fnm/volta/asdfï¼‰å’ŒåŒ…ç®¡ç†å™¨ï¼ˆpnpm/npmï¼‰ï¼Œå› ä¸ºæœåŠ¡ä¸åŠ è½½æ‚¨çš„ shell initï¼ˆåˆå§‹åŒ–ï¼‰ã€‚åƒ `DISPLAY` è¿™æ ·çš„è¿è¡Œæ—¶å˜é‡åº”è¯¥å­˜åœ¨äº `~/.openclaw/.env` ä¸­ï¼ˆç”± gateway æ—©æœŸåŠ è½½ï¼‰ã€‚
`host=gateway` ä¸Šçš„ Exec è¿è¡Œä¼šå°†æ‚¨çš„ login-shell `PATH` åˆå¹¶åˆ° exec ç¯å¢ƒä¸­ï¼Œå› æ­¤ç¼ºå°‘å·¥å…·é€šå¸¸æ„å‘³ç€æ‚¨çš„ shell init æ²¡æœ‰å¯¼å‡ºå®ƒä»¬ï¼ˆæˆ–è®¾ç½® `tools.exec.pathPrepend`ï¼‰ã€‚å‚è§ [/tools/exec](/tools/exec)ã€‚

WhatsApp + Telegram channels éœ€è¦ **Node**ï¼›ä¸æ”¯æŒ Bunã€‚å¦‚æœæ‚¨çš„æœåŠ¡æ˜¯ä½¿ç”¨ Bun æˆ–ç‰ˆæœ¬ç®¡ç†çš„ Node è·¯å¾„å®‰è£…çš„ï¼Œè¿è¡Œ `openclaw doctor` è¿ç§»åˆ°ç³»ç»Ÿ Node å®‰è£…ã€‚

### Skill missing API key in sandbox

**ç—‡çŠ¶ï¼š** Skillï¼ˆæŠ€èƒ½ï¼‰åœ¨ host ä¸Šå·¥ä½œä½†åœ¨ sandboxï¼ˆæ²™ç®±ï¼‰ä¸­å¤±è´¥å¹¶ç¼ºå°‘ API å¯†é’¥ã€‚

**åŸå› ï¼š** sandbox exec åœ¨ Docker å†…è¿è¡Œï¼Œ**ä¸** ç»§æ‰¿ host `process.env`ã€‚

**ä¿®å¤ï¼š**
- è®¾ç½® `agents.defaults.sandbox.docker.env`ï¼ˆæˆ–æ¯ä¸ª agent çš„ `agents.list[].sandbox.docker.env`ï¼‰
- æˆ–å°†å¯†é’¥çƒ˜ç„™åˆ°æ‚¨çš„è‡ªå®šä¹‰ sandbox é•œåƒä¸­
- ç„¶åè¿è¡Œ `openclaw sandbox recreate --agent <id>`ï¼ˆæˆ– `--all`ï¼‰

### Service Running but Port Not Listening

å¦‚æœæœåŠ¡æŠ¥å‘Š **runningï¼ˆè¿è¡Œä¸­ï¼‰** ä½† gateway ç«¯å£ä¸Šæ²¡æœ‰ç›‘å¬ï¼ŒGateway å¯èƒ½æ‹’ç»ç»‘å®šã€‚

**"running" åœ¨è¿™é‡Œçš„å«ä¹‰**
- `Runtime: running` æ„å‘³ç€æ‚¨çš„ supervisorï¼ˆlaunchd/systemd/schtasksï¼‰è®¤ä¸ºè¿›ç¨‹å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚
- `RPC probe` æ„å‘³ç€ CLI å®é™…ä¸Šå¯ä»¥è¿æ¥åˆ° gateway WebSocket å¹¶è°ƒç”¨ `status`ã€‚
- å§‹ç»ˆç›¸ä¿¡ `Probe target:` + `Config (service):` ä½œä¸º"æˆ‘ä»¬å®é™…å°è¯•äº†ä»€ä¹ˆï¼Ÿ"è¡Œã€‚

**æ£€æŸ¥ï¼š**
- `gateway.mode` å¯¹äº `openclaw gateway` å’ŒæœåŠ¡å¿…é¡»æ˜¯ `local`ã€‚
- å¦‚æœæ‚¨è®¾ç½®äº† `gateway.mode=remote`ï¼Œ**CLI é»˜è®¤** ä¸ºè¿œç¨‹ URLã€‚æœåŠ¡ä»å¯èƒ½åœ¨æœ¬åœ°è¿è¡Œï¼Œä½†æ‚¨çš„ CLI å¯èƒ½æ­£åœ¨æ¢æµ‹é”™è¯¯çš„åœ°æ–¹ã€‚ä½¿ç”¨ `openclaw gateway status` æŸ¥çœ‹æœåŠ¡çš„è§£æç«¯å£ + æ¢æµ‹ç›®æ ‡ï¼ˆæˆ–ä¼ é€’ `--url`ï¼‰ã€‚
- å½“æœåŠ¡çœ‹èµ·æ¥åœ¨è¿è¡Œä½†ç«¯å£å…³é—­æ—¶ï¼Œ`openclaw gateway status` å’Œ `openclaw doctor` ä¼šä»æ—¥å¿—ä¸­æ˜¾ç¤º **æœ€åçš„ gateway é”™è¯¯**ã€‚
- éç¯å›ç»‘å®šï¼ˆ`lan`/`tailnet`/`custom`ï¼Œæˆ–ç¯å›ä¸å¯ç”¨æ—¶çš„ `auto`ï¼‰éœ€è¦ authï¼ˆèº«ä»½éªŒè¯ï¼‰ï¼š`gateway.auth.token`ï¼ˆæˆ– `OPENCLAW_GATEWAY_TOKEN`ï¼‰ã€‚
- `gateway.remote.token` ä»…ç”¨äºè¿œç¨‹ CLI è°ƒç”¨ï¼›å®ƒ **ä¸** å¯ç”¨æœ¬åœ° authã€‚
- `gateway.token` è¢«å¿½ç•¥ï¼›ä½¿ç”¨ `gateway.auth.token`ã€‚

**å¦‚æœ `openclaw gateway status` æ˜¾ç¤ºé…ç½®ä¸åŒ¹é…**
- `Config (cli): ...` å’Œ `Config (service): ...` é€šå¸¸åº”è¯¥åŒ¹é…ã€‚
- å¦‚æœå®ƒä»¬ä¸åŒ¹é…ï¼Œæ‚¨å‡ ä¹è‚¯å®šåœ¨ç¼–è¾‘ä¸€ä¸ªé…ç½®è€ŒæœåŠ¡æ­£åœ¨è¿è¡Œå¦ä¸€ä¸ªã€‚
- ä¿®å¤ï¼šä»æ‚¨å¸Œæœ›æœåŠ¡ä½¿ç”¨çš„ç›¸åŒ `--profile` / `OPENCLAW_STATE_DIR` é‡æ–°è¿è¡Œ `openclaw gateway install --force`ã€‚

**å¦‚æœ `openclaw gateway status` æŠ¥å‘ŠæœåŠ¡é…ç½®é—®é¢˜**
- Supervisor é…ç½®ï¼ˆlaunchd/systemd/schtasksï¼‰ç¼ºå°‘å½“å‰é»˜è®¤å€¼ã€‚
- ä¿®å¤ï¼šè¿è¡Œ `openclaw doctor` æ›´æ–°å®ƒï¼ˆæˆ– `openclaw gateway install --force` è¿›è¡Œå®Œå…¨é‡å†™ï¼‰ã€‚

**å¦‚æœ `Last gateway error:` æåˆ° "refusing to bind â€¦ without auth"**
- æ‚¨å°† `gateway.bind` è®¾ç½®ä¸ºéç¯å›æ¨¡å¼ï¼ˆ`lan`/`tailnet`/`custom`ï¼Œæˆ–ç¯å›ä¸å¯ç”¨æ—¶çš„ `auto`ï¼‰ä½†æ²¡æœ‰é…ç½® authã€‚
- ä¿®å¤ï¼šè®¾ç½® `gateway.auth.mode` + `gateway.auth.token`ï¼ˆæˆ–å¯¼å‡º `OPENCLAW_GATEWAY_TOKEN`ï¼‰å¹¶é‡æ–°å¯åŠ¨æœåŠ¡ã€‚

**å¦‚æœ `openclaw gateway status` è¯´ `bind=tailnet` ä½†æœªæ‰¾åˆ° tailnet æ¥å£**
- Gateway å°è¯•ç»‘å®šåˆ° Tailscale IPï¼ˆ100.64.0.0/10ï¼‰ä½†åœ¨ä¸»æœºä¸Šæœªæ£€æµ‹åˆ°ã€‚
- ä¿®å¤ï¼šåœ¨è¯¥æœºå™¨ä¸Šå¯åŠ¨ Tailscaleï¼ˆæˆ–å°† `gateway.bind` æ›´æ”¹ä¸º `loopback`/`lan`ï¼‰ã€‚

**å¦‚æœ `Probe note:` è¯´æ¢æµ‹ä½¿ç”¨ç¯å›**
- å¯¹äº `bind=lan`ï¼Œè¿™æ˜¯é¢„æœŸçš„ï¼šgateway ç›‘å¬ `0.0.0.0`ï¼ˆæ‰€æœ‰æ¥å£ï¼‰ï¼Œç¯å›ä»åº”åœ¨æœ¬åœ°è¿æ¥ã€‚
- å¯¹äºè¿œç¨‹å®¢æˆ·ç«¯ï¼Œä½¿ç”¨çœŸå®çš„ LAN IPï¼ˆä¸æ˜¯ `0.0.0.0`ï¼‰åŠ ç«¯å£ï¼Œå¹¶ç¡®ä¿é…ç½®äº† authã€‚

### Address Already in Use (Port 18789)

è¿™æ„å‘³ç€æŸäº›ä¸œè¥¿å·²ç»åœ¨ gateway ç«¯å£ä¸Šç›‘å¬ã€‚

**æ£€æŸ¥ï¼š**
```bash
openclaw gateway status
```

å®ƒå°†æ˜¾ç¤ºç›‘å¬å™¨å’Œå¯èƒ½çš„åŸå› ï¼ˆgateway å·²åœ¨è¿è¡Œã€SSH éš§é“ï¼‰ã€‚
å¦‚æœéœ€è¦ï¼Œåœæ­¢æœåŠ¡æˆ–é€‰æ‹©ä¸åŒçš„ç«¯å£ã€‚

### Extra Workspace Folders Detected

å¦‚æœæ‚¨ä»è¾ƒæ—§çš„å®‰è£…å‡çº§ï¼Œç£ç›˜ä¸Šå¯èƒ½ä»æœ‰ `~/openclaw`ã€‚
å¤šä¸ª workspaceï¼ˆå·¥ä½œåŒºï¼‰ç›®å½•å¯èƒ½å¯¼è‡´ä»¤äººå›°æƒ‘çš„ auth æˆ–çŠ¶æ€æ¼‚ç§»ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ª workspace å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚

**ä¿®å¤ï¼š** ä¿ç•™å•ä¸ªæ´»åŠ¨ workspace å¹¶å½’æ¡£/åˆ é™¤å…¶ä½™ã€‚å‚è§ [Agent workspace](/concepts/agent-workspace#extra-workspace-folders)ã€‚

### Main chat running in a sandbox workspace

ç—‡çŠ¶ï¼š`pwd` æˆ–æ–‡ä»¶å·¥å…·æ˜¾ç¤º `~/.openclaw/sandboxes/...`ï¼Œå°½ç®¡æ‚¨æœŸæœ› host workspaceã€‚

**åŸå› ï¼š** `agents.defaults.sandbox.mode: "non-main"` åŸºäº `session.mainKey`ï¼ˆé»˜è®¤ `"main"`ï¼‰ã€‚
Group/channel sessionsï¼ˆä¼šè¯ï¼‰ä½¿ç”¨å®ƒä»¬è‡ªå·±çš„é”®ï¼Œå› æ­¤å®ƒä»¬è¢«è§†ä¸º non-main å¹¶è·å¾— sandbox workspacesã€‚

**ä¿®å¤é€‰é¡¹ï¼š**
- å¦‚æœæ‚¨å¸Œæœ› agent ä½¿ç”¨ host workspacesï¼šè®¾ç½® `agents.list[].sandbox.mode: "off"`ã€‚
- å¦‚æœæ‚¨å¸Œæœ›åœ¨ sandbox å†…è®¿é—® host workspaceï¼šä¸ºè¯¥ agent è®¾ç½® `workspaceAccess: "rw"`ã€‚

### "Agent was aborted"

Agent åœ¨å“åº”ä¸­é€”è¢«ä¸­æ–­ã€‚

**åŸå› ï¼š**
- ç”¨æˆ·å‘é€ `stop`ã€`abort`ã€`esc`ã€`wait` æˆ– `exit`
- è¶…æ—¶è¶…å‡º
- è¿›ç¨‹å´©æºƒ

**ä¿®å¤ï¼š** åªéœ€å‘é€å¦ä¸€æ¡æ¶ˆæ¯ã€‚ä¼šè¯ç»§ç»­ã€‚

### "Agent failed before reply: Unknown model: anthropic/claude-haiku-3-5"

OpenClaw æœ‰æ„æ‹’ç» **è¾ƒæ—§/ä¸å®‰å…¨çš„æ¨¡å‹**ï¼ˆå°¤å…¶æ˜¯é‚£äº›æ›´å®¹æ˜“å—åˆ° prompt injectionï¼ˆæç¤ºæ³¨å…¥ï¼‰çš„æ¨¡å‹ï¼‰ã€‚å¦‚æœæ‚¨çœ‹åˆ°æ­¤é”™è¯¯ï¼Œåˆ™ä¸å†æ”¯æŒè¯¥æ¨¡å‹åç§°ã€‚

**ä¿®å¤ï¼š**
- ä¸º provider é€‰æ‹© **æœ€æ–°** æ¨¡å‹å¹¶æ›´æ–°æ‚¨çš„é…ç½®æˆ– model aliasï¼ˆæ¨¡å‹åˆ«åï¼‰ã€‚
- å¦‚æœæ‚¨ä¸ç¡®å®šå“ªäº›æ¨¡å‹å¯ç”¨ï¼Œè¿è¡Œ `openclaw models list` æˆ– `openclaw models scan` å¹¶é€‰æ‹©å—æ”¯æŒçš„æ¨¡å‹ã€‚
- æ£€æŸ¥ gateway æ—¥å¿—ä»¥è·å–è¯¦ç»†çš„å¤±è´¥åŸå› ã€‚

å¦è§ï¼š[Models CLI](/cli/models) å’Œ [Model providers](/concepts/model-providers)ã€‚

### Messages Not Triggering

**æ£€æŸ¥ 1ï¼š** å‘é€è€…æ˜¯å¦åœ¨å…è®¸åˆ—è¡¨ä¸­ï¼Ÿ
```bash
openclaw status
```
åœ¨è¾“å‡ºä¸­æŸ¥æ‰¾ `AllowFrom: ...`ã€‚

**æ£€æŸ¥ 2ï¼š** å¯¹äºç¾¤èŠï¼Œæ˜¯å¦éœ€è¦æåŠï¼Ÿ
```bash
# æ¶ˆæ¯å¿…é¡»åŒ¹é… mentionPatterns æˆ–æ˜ç¡®æåŠï¼›é»˜è®¤å€¼å­˜åœ¨äº channel groups/guilds ä¸­ã€‚
# Multi-agentï¼š`agents.list[].groupChat.mentionPatterns` è¦†ç›–å…¨å±€ patternsã€‚
grep -n "agents\\|groupChat\\|mentionPatterns\\|channels\\.whatsapp\\.groups\\|channels\\.telegram\\.groups\\|channels\\.imessage\\.groups\\|channels\\.discord\\.guilds" \
  "${OPENCLAW_CONFIG_PATH:-$HOME/.openclaw/openclaw.json}"
```

**æ£€æŸ¥ 3ï¼š** æ£€æŸ¥æ—¥å¿—
```bash
openclaw logs --follow
# æˆ–å¦‚æœæ‚¨æƒ³è¦å¿«é€Ÿè¿‡æ»¤å™¨ï¼š
tail -f "$(ls -t /tmp/openclaw/openclaw-*.log | head -1)" | grep "blocked\\|skip\\|unauthorized"
```

### Pairing Code Not Arriving

å¦‚æœ `dmPolicy` æ˜¯ `pairing`ï¼ŒæœªçŸ¥å‘é€è€…åº”è¯¥æ”¶åˆ°ä»£ç ï¼Œä»–ä»¬çš„æ¶ˆæ¯åœ¨æ‰¹å‡†ä¹‹å‰è¢«å¿½ç•¥ã€‚

**æ£€æŸ¥ 1ï¼š** æ˜¯å¦å·²æœ‰å¾…å¤„ç†è¯·æ±‚åœ¨ç­‰å¾…ï¼Ÿ
```bash
openclaw pairing list <channel>
```

å¾…å¤„ç†çš„ DM pairingï¼ˆé…å¯¹ï¼‰è¯·æ±‚é»˜è®¤é™åˆ¶ä¸ºæ¯ä¸ª channel **3 ä¸ª**ã€‚å¦‚æœåˆ—è¡¨å·²æ»¡ï¼Œæ–°è¯·æ±‚å°†ä¸ä¼šç”Ÿæˆä»£ç ï¼Œç›´åˆ°æ‰¹å‡†æˆ–è¿‡æœŸã€‚

**æ£€æŸ¥ 2ï¼š** è¯·æ±‚æ˜¯å¦å·²åˆ›å»ºä½†æœªå‘é€å›å¤ï¼Ÿ
```bash
openclaw logs --follow | grep "pairing request"
```

**æ£€æŸ¥ 3ï¼š** ç¡®è®¤è¯¥ channel çš„ `dmPolicy` ä¸æ˜¯ `open`/`allowlist`ã€‚

### Image + Mention Not Working

å·²çŸ¥é—®é¢˜ï¼šå½“æ‚¨å‘é€å›¾åƒæ—¶ **ä»…** åŒ…å«æåŠï¼ˆæ²¡æœ‰å…¶ä»–æ–‡æœ¬ï¼‰ï¼ŒWhatsApp æœ‰æ—¶ä¸åŒ…æ‹¬æåŠ metadataï¼ˆå…ƒæ•°æ®ï¼‰ã€‚

**è§£å†³æ–¹æ³•ï¼š** åœ¨æåŠä¸­æ·»åŠ ä¸€äº›æ–‡æœ¬ï¼š
- âŒ `@openclaw` + å›¾åƒ
- âœ… `@openclaw check this` + å›¾åƒ

### Session Not Resuming

**æ£€æŸ¥ 1ï¼š** session æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Ÿ
```bash
ls -la ~/.openclaw/agents/<agentId>/sessions/
```

**æ£€æŸ¥ 2ï¼š** é‡ç½®çª—å£æ˜¯å¦å¤ªçŸ­ï¼Ÿ
```json
{
  "session": {
    "reset": {
      "mode": "daily",
      "atHour": 4,
      "idleMinutes": 10080  // 7 å¤©
    }
  }
}
```

**æ£€æŸ¥ 3ï¼š** æ˜¯å¦æœ‰äººå‘é€äº† `/new`ã€`/reset` æˆ–é‡ç½®è§¦å‘å™¨ï¼Ÿ

### Agent Timing Out

é»˜è®¤è¶…æ—¶ä¸º 30 åˆ†é’Ÿã€‚å¯¹äºé•¿ä»»åŠ¡ï¼š

```json
{
  "reply": {
    "timeoutSeconds": 3600  // 1 å°æ—¶
  }
}
```

æˆ–ä½¿ç”¨ `process` å·¥å…·å°†é•¿å‘½ä»¤åå°è¿è¡Œã€‚

### WhatsApp Disconnected

```bash
# æ£€æŸ¥æœ¬åœ°çŠ¶æ€ï¼ˆå‡­æ®ã€ä¼šè¯ã€æ’é˜Ÿäº‹ä»¶ï¼‰
openclaw status
# æ¢æµ‹è¿è¡Œä¸­çš„ gateway + channelsï¼ˆWA è¿æ¥ + Telegram + Discord APIsï¼‰
openclaw status --deep

# æŸ¥çœ‹æœ€è¿‘çš„è¿æ¥äº‹ä»¶
openclaw logs --limit 200 | grep "connection\\|disconnect\\|logout"
```

**ä¿®å¤ï¼š** é€šå¸¸åœ¨ Gateway è¿è¡Œæ—¶è‡ªåŠ¨é‡æ–°è¿æ¥ã€‚å¦‚æœæ‚¨å¡ä½äº†ï¼Œé‡æ–°å¯åŠ¨ Gateway è¿›ç¨‹ï¼ˆæ— è®ºæ‚¨å¦‚ä½•ç›‘ç£å®ƒï¼‰ï¼Œæˆ–ä½¿ç”¨è¯¦ç»†è¾“å‡ºæ‰‹åŠ¨è¿è¡Œï¼š

```bash
openclaw gateway --verbose
```

å¦‚æœæ‚¨å·²æ³¨é”€/å–æ¶ˆé“¾æ¥ï¼š

```bash
openclaw channels logout
trash "${OPENCLAW_STATE_DIR:-$HOME/.openclaw}/credentials" # å¦‚æœ logout æ— æ³•å®Œå…¨åˆ é™¤æ‰€æœ‰å†…å®¹
openclaw channels login --verbose       # é‡æ–°æ‰«æ QR
```

### Media Send Failing

**æ£€æŸ¥ 1ï¼š** æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆï¼Ÿ
```bash
ls -la /path/to/your/image.jpg
```

**æ£€æŸ¥ 2ï¼š** æ˜¯å¦å¤ªå¤§ï¼Ÿ
- å›¾åƒï¼šæœ€å¤§ 6MB
- éŸ³é¢‘/è§†é¢‘ï¼šæœ€å¤§ 16MB  
- æ–‡æ¡£ï¼šæœ€å¤§ 100MB

**æ£€æŸ¥ 3ï¼š** æ£€æŸ¥ media æ—¥å¿—
```bash
grep "media\\|fetch\\|download" "$(ls -t /tmp/openclaw/openclaw-*.log | head -1)" | tail -20
```

### High Memory Usage

OpenClaw åœ¨å†…å­˜ä¸­ä¿ç•™å¯¹è¯å†å²ã€‚

**ä¿®å¤ï¼š** å®šæœŸé‡å¯æˆ–è®¾ç½® session é™åˆ¶ï¼š
```json
{
  "session": {
    "historyLimit": 100  // ä¿ç•™çš„æœ€å¤§æ¶ˆæ¯æ•°
  }
}
```

## å¸¸è§æ•…éšœæ’æŸ¥

### "Gateway won't start â€” configuration invalid"

OpenClaw ç°åœ¨åœ¨é…ç½®åŒ…å«æœªçŸ¥é”®ã€æ ¼å¼é”™è¯¯çš„å€¼æˆ–æ— æ•ˆç±»å‹æ—¶æ‹’ç»å¯åŠ¨ã€‚
è¿™æ˜¯å‡ºäºå®‰å…¨è€ƒè™‘çš„æœ‰æ„è¡Œä¸ºã€‚

ä½¿ç”¨ Doctor ä¿®å¤ï¼š
```bash
openclaw doctor
openclaw doctor --fix
```

æ³¨æ„ï¼š
- `openclaw doctor` æŠ¥å‘Šæ¯ä¸ªæ— æ•ˆæ¡ç›®ã€‚
- `openclaw doctor --fix` åº”ç”¨è¿ç§»/ä¿®å¤å¹¶é‡å†™é…ç½®ã€‚
- è¯Šæ–­å‘½ä»¤å¦‚ `openclaw logs`ã€`openclaw health`ã€`openclaw status`ã€`openclaw gateway status` å’Œ `openclaw gateway probe` å³ä½¿é…ç½®æ— æ•ˆä¹Ÿä»ç„¶è¿è¡Œã€‚

### "All models failed" â€” what should I check first?

- **Credentialsï¼ˆå‡­æ®ï¼‰** ä¸ºæ­£åœ¨å°è¯•çš„ provider(s) æä¾›ï¼ˆauth profiles + env varsï¼‰ã€‚
- **Model routingï¼ˆæ¨¡å‹è·¯ç”±ï¼‰**ï¼šç¡®è®¤ `agents.defaults.model.primary` å’Œ fallbacksï¼ˆå¤‡ç”¨ï¼‰æ˜¯æ‚¨å¯ä»¥è®¿é—®çš„æ¨¡å‹ã€‚
- **Gateway logs** åœ¨ `/tmp/openclaw/â€¦` ä¸­æŸ¥æ‰¾ç¡®åˆ‡çš„ provider é”™è¯¯ã€‚
- **Model status**ï¼šä½¿ç”¨ `/model status`ï¼ˆèŠå¤©ï¼‰æˆ– `openclaw models status`ï¼ˆCLIï¼‰ã€‚

### I'm running on my personal WhatsApp number â€” why is self-chat weird?

å¯ç”¨ self-chat modeï¼ˆè‡ªèŠæ¨¡å¼ï¼‰å¹¶å°†æ‚¨è‡ªå·±çš„å·ç åŠ å…¥å…è®¸åˆ—è¡¨ï¼š

```json5
{
  channels: {
    whatsapp: {
      selfChatMode: true,
      dmPolicy: "allowlist",
      allowFrom: ["+15555550123"]
    }
  }
}
```

å‚è§ [WhatsApp setup](/channels/whatsapp)ã€‚

### WhatsApp logged me out. How do I reâ€‘auth?

å†æ¬¡è¿è¡Œ login å‘½ä»¤å¹¶æ‰«æ QR ç ï¼š

```bash
openclaw channels login
```

### Build errors on `main` â€” what's the standard fix path?

1) `git pull origin main && pnpm install`
2) `openclaw doctor`
3) æ£€æŸ¥ GitHub issues æˆ– Discord
4) ä¸´æ—¶è§£å†³æ–¹æ³•ï¼šcheckout è¾ƒæ—§çš„ commit

### npm install fails (allow-build-scripts / missing tar or yargs). What now?

å¦‚æœæ‚¨ä»æºä»£ç è¿è¡Œï¼Œè¯·ä½¿ç”¨ repo çš„åŒ…ç®¡ç†å™¨ï¼š**pnpm**ï¼ˆé¦–é€‰ï¼‰ã€‚
Repo å£°æ˜ `packageManager: "pnpm@â€¦"`ã€‚

å…¸å‹æ¢å¤ï¼š
```bash
git status   # ç¡®ä¿æ‚¨åœ¨ repo æ ¹ç›®å½•
pnpm install
pnpm build
openclaw doctor
openclaw gateway restart
```

åŸå› ï¼špnpm æ˜¯æ­¤ repo çš„é…ç½®åŒ…ç®¡ç†å™¨ã€‚

### How do I switch between git installs and npm installs?

ä½¿ç”¨ **website installerï¼ˆç½‘ç«™å®‰è£…ç¨‹åºï¼‰** å¹¶ä½¿ç”¨ flag é€‰æ‹©å®‰è£…æ–¹æ³•ã€‚å®ƒå°±åœ°å‡çº§å¹¶é‡å†™ gateway service ä»¥æŒ‡å‘æ–°å®‰è£…ã€‚

åˆ‡æ¢ **åˆ° git install**ï¼š
```bash
curl -fsSL https://openclaw.bot/install.sh | bash -s -- --install-method git --no-onboard
```

åˆ‡æ¢ **åˆ° npm global**ï¼š
```bash
curl -fsSL https://openclaw.bot/install.sh | bash
```

æ³¨æ„ï¼š
- Git flow ä»…åœ¨ repo å¹²å‡€æ—¶æ‰ rebaseã€‚é¦–å…ˆ commit æˆ– stash æ›´æ”¹ã€‚
- åˆ‡æ¢åï¼Œè¿è¡Œï¼š
  ```bash
  openclaw doctor
  openclaw gateway restart
  ```

### Telegram block streaming isn't splitting text between tool calls. Why?

Block streamingï¼ˆå—æµå¼ä¼ è¾“ï¼‰ä»…å‘é€ **å·²å®Œæˆçš„æ–‡æœ¬å—**ã€‚æ‚¨çœ‹åˆ°å•æ¡æ¶ˆæ¯çš„å¸¸è§åŸå› ï¼š
- `agents.defaults.blockStreamingDefault` ä»ç„¶æ˜¯ `"off"`ã€‚
- `channels.telegram.blockStreaming` è®¾ç½®ä¸º `false`ã€‚
- `channels.telegram.streamMode` æ˜¯ `partial` æˆ– `block` **ä¸” draft streaming å¤„äºæ´»åŠ¨çŠ¶æ€**ï¼ˆç§èŠ + topicsï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒDraft streaming ç¦ç”¨ block streamingã€‚
- æ‚¨çš„ `minChars` / coalesce è®¾ç½®å¤ªé«˜ï¼Œå› æ­¤å—è¢«åˆå¹¶ã€‚
- æ¨¡å‹å‘å‡ºä¸€ä¸ªå¤§æ–‡æœ¬å—ï¼ˆæ²¡æœ‰ä¸­é€”åˆ·æ–°ç‚¹ï¼‰ã€‚

ä¿®å¤æ¸…å•ï¼š
1) å°† block streaming è®¾ç½®æ”¾åœ¨ `agents.defaults` ä¸‹ï¼Œè€Œä¸æ˜¯æ ¹ç›®å½•ã€‚
2) å¦‚æœæ‚¨æƒ³è¦çœŸæ­£çš„å¤šæ¶ˆæ¯å—å›å¤ï¼Œè®¾ç½® `channels.telegram.streamMode: "off"`ã€‚
3) åœ¨è°ƒè¯•æ—¶ä½¿ç”¨è¾ƒå°çš„ chunk/coalesce é˜ˆå€¼ã€‚

å‚è§ [Streaming](/concepts/streaming)ã€‚

### Discord doesn't reply in my server even with `requireMention: false`. Why?

`requireMention` ä»…åœ¨ channel é€šè¿‡å…è®¸åˆ—è¡¨ **ä¹‹å** æ§åˆ¶æåŠé—¨æ§ã€‚
é»˜è®¤æƒ…å†µä¸‹ `channels.discord.groupPolicy` æ˜¯ **allowlist**ï¼Œå› æ­¤å¿…é¡»æ˜ç¡®å¯ç”¨ guildsã€‚
å¦‚æœæ‚¨è®¾ç½® `channels.discord.guilds.<guildId>.channels`ï¼Œåˆ™ä»…å…è®¸åˆ—å‡ºçš„ channelsï¼›çœç•¥å®ƒä»¥å…è®¸ guild ä¸­çš„æ‰€æœ‰ channelsã€‚

ä¿®å¤æ¸…å•ï¼š
1) è®¾ç½® `channels.discord.groupPolicy: "open"` **æˆ–** æ·»åŠ  guild allowlist æ¡ç›®ï¼ˆå¯é€‰æ·»åŠ  channel allowlistï¼‰ã€‚
2) åœ¨ `channels.discord.guilds.<guildId>.channels` ä¸­ä½¿ç”¨ **æ•°å­— channel IDs**ã€‚
3) å°† `requireMention: false` æ”¾åœ¨ `channels.discord.guilds` **ä¸‹**ï¼ˆå…¨å±€æˆ–æ¯ä¸ª channelï¼‰ã€‚é¡¶çº§ `channels.discord.requireMention` ä¸æ˜¯å—æ”¯æŒçš„é”®ã€‚
4) ç¡®ä¿ bot æœ‰ **Message Content Intent** å’Œ channel æƒé™ã€‚
5) è¿è¡Œ `openclaw channels status --probe` è·å–å®¡è®¡æç¤ºã€‚

æ–‡æ¡£ï¼š[Discord](/channels/discord)ã€[Channels troubleshooting](/channels/troubleshooting)ã€‚

### Cloud Code Assist API error: invalid tool schema (400). What now?

è¿™å‡ ä¹æ€»æ˜¯ **tool schemaï¼ˆå·¥å…·æ¶æ„ï¼‰å…¼å®¹æ€§** é—®é¢˜ã€‚Cloud Code Assist endpoint æ¥å—ä¸¥æ ¼çš„ JSON Schema å­é›†ã€‚OpenClaw åœ¨å½“å‰ `main` ä¸­æ¸…ç†/è§„èŒƒåŒ–å·¥å…·æ¶æ„ï¼Œä½†ä¿®å¤å°šæœªåœ¨æœ€åä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼ˆæˆªè‡³ 2026 å¹´ 1 æœˆ 13 æ—¥ï¼‰ã€‚

ä¿®å¤æ¸…å•ï¼š
1) **æ›´æ–° OpenClaw**ï¼š
   - å¦‚æœæ‚¨å¯ä»¥ä»æºä»£ç è¿è¡Œï¼Œæ‹‰å– `main` å¹¶é‡æ–°å¯åŠ¨ gatewayã€‚
   - å¦åˆ™ï¼Œç­‰å¾…åŒ…å« schema scrubber çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬ã€‚
2) é¿å…ä¸æ”¯æŒçš„å…³é”®å­—ï¼Œå¦‚ `anyOf/oneOf/allOf`ã€`patternProperties`ã€`additionalProperties`ã€`minLength`ã€`maxLength`ã€`format` ç­‰ã€‚
3) å¦‚æœæ‚¨å®šä¹‰è‡ªå®šä¹‰å·¥å…·ï¼Œè¯·å°†é¡¶çº§ schema ä¿æŒä¸º `type: "object"`ï¼Œå¸¦æœ‰ `properties` å’Œç®€å•æšä¸¾ã€‚

å‚è§ [Tools](/tools) å’Œ [TypeBox schemas](/concepts/typebox)ã€‚

## macOS ç‰¹å®šé—®é¢˜

### App Crashes when Granting Permissions (Speech/Mic)

å¦‚æœåº”ç”¨åœ¨æ‚¨ç‚¹å‡»éšç§æç¤ºä¸Šçš„"å…è®¸"æ—¶æ¶ˆå¤±æˆ–æ˜¾ç¤º"Abort trap 6"ï¼š

**ä¿®å¤ 1ï¼šé‡ç½® TCC Cacheï¼ˆç¼“å­˜ï¼‰**
```bash
tccutil reset All bot.molt.mac.debug
```

**ä¿®å¤ 2ï¼šå¼ºåˆ¶ä½¿ç”¨æ–° Bundle ID**
å¦‚æœé‡ç½®ä¸èµ·ä½œç”¨ï¼Œåœ¨ [`scripts/package-mac-app.sh`](https://github.com/openclaw/openclaw/blob/main/scripts/package-mac-app.sh) ä¸­æ›´æ”¹ `BUNDLE_ID`ï¼ˆä¾‹å¦‚ï¼Œæ·»åŠ  `.test` åç¼€ï¼‰å¹¶é‡å»ºã€‚è¿™è¿«ä½¿ macOS å°†å…¶è§†ä¸ºæ–°åº”ç”¨ã€‚

### Gateway stuck on "Starting..."

åº”ç”¨è¿æ¥åˆ°ç«¯å£ `18789` ä¸Šçš„æœ¬åœ° gatewayã€‚å¦‚æœå®ƒä¿æŒå¡ä½ï¼š

**ä¿®å¤ 1ï¼šåœæ­¢ supervisorï¼ˆé¦–é€‰ï¼‰**
å¦‚æœ gateway ç”± launchd ç›‘ç£ï¼Œæ€æ­» PID åªä¼šé‡æ–°ç”Ÿæˆå®ƒã€‚é¦–å…ˆåœæ­¢ supervisorï¼š
```bash
openclaw gateway status
openclaw gateway stop
# æˆ–ï¼šlaunchctl bootout gui/$UID/bot.molt.gatewayï¼ˆæ›¿æ¢ä¸º bot.molt.<profile>ï¼›æ—§ç‰ˆ com.openclaw.* ä»ç„¶æœ‰æ•ˆï¼‰
```

**ä¿®å¤ 2ï¼šç«¯å£ç¹å¿™ï¼ˆæŸ¥æ‰¾ç›‘å¬å™¨ï¼‰**
```bash
lsof -nP -iTCP:18789 -sTCP:LISTEN
```

å¦‚æœå®ƒæ˜¯ä¸€ä¸ªéç›‘ç£è¿›ç¨‹ï¼Œé¦–å…ˆå°è¯•ä¼˜é›…åœæ­¢ï¼Œç„¶åå‡çº§ï¼š
```bash
kill -TERM <PID>
sleep 1
kill -9 <PID> # æœ€åæ‰‹æ®µ
```

**ä¿®å¤ 3ï¼šæ£€æŸ¥ CLI å®‰è£…**
ç¡®ä¿å…¨å±€ `openclaw` CLI å·²å®‰è£…å¹¶ä¸åº”ç”¨ç‰ˆæœ¬åŒ¹é…ï¼š
```bash
openclaw --version
npm install -g openclaw@<version>
```

## è°ƒè¯•æ¨¡å¼

è·å–è¯¦ç»†æ—¥å¿—è®°å½•ï¼š

```bash
# åœ¨é…ç½®ä¸­æ‰“å¼€ trace loggingï¼š
#   ${OPENCLAW_CONFIG_PATH:-$HOME/.openclaw/openclaw.json} -> { logging: { level: "trace" } }
#
# ç„¶åè¿è¡Œè¯¦ç»†å‘½ä»¤å°†è°ƒè¯•è¾“å‡ºé•œåƒåˆ° stdoutï¼š
openclaw gateway --verbose
openclaw channels login --verbose
```

## æ—¥å¿—ä½ç½®

| æ—¥å¿— | ä½ç½® |
|-----|----------|
| Gateway æ–‡ä»¶æ—¥å¿—ï¼ˆç»“æ„åŒ–ï¼‰ | `/tmp/openclaw/openclaw-YYYY-MM-DD.log`ï¼ˆæˆ– `logging.file`ï¼‰ |
| Gateway service æ—¥å¿—ï¼ˆsupervisorï¼‰ | macOSï¼š`$OPENCLAW_STATE_DIR/logs/gateway.log` + `gateway.err.log`ï¼ˆé»˜è®¤ï¼š`~/.openclaw/logs/...`ï¼›profiles ä½¿ç”¨ `~/.openclaw-<profile>/logs/...`ï¼‰<br />Linuxï¼š`journalctl --user -u openclaw-gateway[-<profile>].service -n 200 --no-pager`<br />Windowsï¼š`schtasks /Query /TN "OpenClaw Gateway (<profile>)" /V /FO LIST` |
| Session æ–‡ä»¶ | `$OPENCLAW_STATE_DIR/agents/<agentId>/sessions/` |
| Media cache | `$OPENCLAW_STATE_DIR/media/` |
| Credentials | `$OPENCLAW_STATE_DIR/credentials/` |

## Health Checkï¼ˆå¥åº·æ£€æŸ¥ï¼‰

```bash
# Supervisor + æ¢æµ‹ç›®æ ‡ + é…ç½®è·¯å¾„
openclaw gateway status
# åŒ…æ‹¬ç³»ç»Ÿçº§æ‰«æï¼ˆæ—§ç‰ˆ/é¢å¤–æœåŠ¡ã€ç«¯å£ç›‘å¬å™¨ï¼‰
openclaw gateway status --deep

# Gateway æ˜¯å¦å¯è¾¾ï¼Ÿ
openclaw health --json
# å¦‚æœå¤±è´¥ï¼Œä½¿ç”¨è¿æ¥è¯¦ç»†ä¿¡æ¯é‡æ–°è¿è¡Œï¼š
openclaw health --verbose

# é»˜è®¤ç«¯å£ä¸Šæ˜¯å¦æœ‰ä¸œè¥¿åœ¨ç›‘å¬ï¼Ÿ
lsof -nP -iTCP:18789 -sTCP:LISTEN

# æœ€è¿‘çš„æ´»åŠ¨ï¼ˆRPC æ—¥å¿—å°¾éƒ¨ï¼‰
openclaw logs --follow
# å¦‚æœ RPC å®•æœºåˆ™å›é€€
tail -20 /tmp/openclaw/openclaw-*.log
```

## é‡ç½®æ‰€æœ‰å†…å®¹

æ ¸é€‰é¡¹ï¼š

```bash
openclaw gateway stop
# å¦‚æœæ‚¨å®‰è£…äº†æœåŠ¡å¹¶æƒ³è¦å…¨æ–°å®‰è£…ï¼š
# openclaw gateway uninstall

trash "${OPENCLAW_STATE_DIR:-$HOME/.openclaw}"
openclaw channels login         # é‡æ–°é…å¯¹ WhatsApp
openclaw gateway restart           # æˆ–ï¼šopenclaw gateway
```

âš ï¸ è¿™ä¼šä¸¢å¤±æ‰€æœ‰ä¼šè¯å¹¶éœ€è¦é‡æ–°é…å¯¹ WhatsAppã€‚

## è·å–å¸®åŠ©

1. é¦–å…ˆæ£€æŸ¥æ—¥å¿—ï¼š`/tmp/openclaw/`ï¼ˆé»˜è®¤ï¼š`openclaw-YYYY-MM-DD.log`ï¼Œæˆ–æ‚¨é…ç½®çš„ `logging.file`ï¼‰
2. åœ¨ GitHub ä¸Šæœç´¢ç°æœ‰é—®é¢˜
3. æ‰“å¼€æ–°é—®é¢˜å¹¶æä¾›ï¼š
   - OpenClaw ç‰ˆæœ¬
   - ç›¸å…³æ—¥å¿—ç‰‡æ®µ
   - é‡ç°æ­¥éª¤
   - æ‚¨çš„é…ç½®ï¼ˆç¼–è¾‘æœºå¯†ï¼ï¼‰

---

*"æ‚¨è¯•è¿‡å…³é—­å†æ‰“å¼€å—ï¼Ÿ"* â€” æ¯ä¸ª IT äººå‘˜

ğŸ¦ğŸ”§

### Browser Not Starting (Linux)

å¦‚æœæ‚¨çœ‹åˆ° `"Failed to start Chrome CDP on port 18800"`ï¼š

**æœ€å¯èƒ½çš„åŸå› ï¼š** Ubuntu ä¸Šçš„ Snap æ‰“åŒ…çš„ Chromiumã€‚

**å¿«é€Ÿä¿®å¤ï¼š** æ”¹ä¸ºå®‰è£… Google Chromeï¼š
```bash
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo dpkg -i google-chrome-stable_current_amd64.deb
```

ç„¶ååœ¨é…ç½®ä¸­è®¾ç½®ï¼š
```json
{
  "browser": {
    "executablePath": "/usr/bin/google-chrome-stable"
  }
}
```

**å®Œæ•´æŒ‡å—ï¼š** å‚è§ [browser-linux-troubleshooting](/tools/browser-linux-troubleshooting)
