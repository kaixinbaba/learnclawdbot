---
summary: "Терминальный пользовательский интерфейс (TUI): подключение к шлюзу с любой машины"
read_when:
  - Вам нужен пошаговый гайд по TUI для новичков
  - Вам нужен полный список функций TUI, команд и сочетаний клавиш
---
# TUI (терминальный пользовательский интерфейс)

## Быстрый старт
1) Запустите шлюз.
```bash
openclaw gateway
```
2) Откройте TUI.
```bash
openclaw tui
```
3) Введите сообщение и нажмите Enter.

Удаленный шлюз:
```bash
openclaw tui --url ws://<host>:<port> --token <gateway-token>
```
Используйте `--password`, если ваш шлюз использует аутентификацию по паролю.

## Что вы видите
- Заголовок: URL подключения, текущий агент, текущая сессия.
- Лог чата: сообщения пользователя, ответы ассистента, системные уведомления, карточки инструментов.
- Строка состояния: состояние подключения/запуска (connecting, running, streaming, idle, error).
- Нижний колонтитул: состояние подключения + агент + сессия + модель + think/verbose/reasoning + счетчики токенов + deliver.
- Ввод: текстовый редактор с автодополнением.

## Ментальная модель: агенты + сессии
- Агенты — это уникальные слаги (например `main`, `research`). Шлюз предоставляет список.
- Сессии принадлежат текущему агенту.
- Ключи сессий хранятся как `agent:<agentId>:<sessionKey>`.
  - Если вы вводите `/session main`, TUI расширяет его до `agent:<currentAgent>:main`.
  - Если вы вводите `/session agent:other:main`, вы явно переключаетесь на эту сессию агента.
- Область сессии:
  - `per-sender` (по умолчанию): у каждого агента много сессий.
  - `global`: TUI всегда использует сессию `global` (выборщик может быть пустым).
- Текущий агент + сессия всегда видны в нижнем колонтитуле.

## Отправка + доставка
- Сообщения отправляются в шлюз; доставка провайдерам по умолчанию отключена.
- Включите доставку:
  - `/deliver on`
  - или панель настроек
  - или запустите с `openclaw tui --deliver`

## Выборщики + оверлеи
- Выборщик моделей: список доступных моделей и установка переопределения сессии.
- Выборщик агентов: выбор другого агента.
- Выборщик сессий: показывает только сессии для текущего агента.
- Настройки: переключение deliver, расширения вывода инструмента и видимости размышления.

## Сочетания клавиш
- Enter: отправить сообщение
- Esc: прервать активный запуск
- Ctrl+C: очистить ввод (нажмите дважды для выхода)
- Ctrl+D: выход
- Ctrl+L: выборщик моделей
- Ctrl+G: выборщик агентов
- Ctrl+P: выборщик сессий
- Ctrl+O: переключить расширение вывода инструмента
- Ctrl+T: переключить видимость размышления (перезагружает историю)

## Слэш-команды
Основные:
- `/help`
- `/status`
- `/agent <id>` (или `/agents`)
- `/session <key>` (или `/sessions`)
- `/model <provider/model>` (или `/models`)

Управление сессией:
- `/think <off|minimal|low|medium|high>`
- `/verbose <on|full|off>`
- `/reasoning <on|off|stream>`
- `/usage <off|tokens|full>`
- `/elevated <on|off|ask|full>` (псевдоним: `/elev`)
- `/activation <mention|always>`
- `/deliver <on|off>`

Жизненный цикл сессии:
- `/new` или `/reset` (сбросить сессию)
- `/abort` (прервать активный запуск)
- `/settings`
- `/exit`

Другие слэш-команды шлюза (например, `/context`) пересылаются в шлюз и показываются как системный вывод. См. [Слэш-команды](/tools/slash-commands).

## Локальные команды оболочки
- Начните строку с `!`, чтобы запустить локальную команду оболочки на хосте TUI.
- TUI запрашивает один раз за сессию разрешение на локальное выполнение; отказ оставляет `!` отключенным для сессии.
- Команды выполняются в свежей, неинтерактивной оболочке в рабочем каталоге TUI (без постоянного `cd`/env).
- Одиночный `!` отправляется как обычное сообщение; начальные пробелы не запускают локальное выполнение.

## Вывод инструмента
- Вызовы инструментов показываются как карточки с аргументами + результатами.
- Ctrl+O переключает между свернутым/развернутым представлениями.
- Пока инструменты работают, частичные обновления передаются в ту же карточку.

## История + потоковая передача
- При подключении TUI загружает последнюю историю (по умолчанию 200 сообщений).
- Потоковые ответы обновляются на месте до завершения.
- TUI также слушает события инструментов агента для более богатых карточек инструментов.

## Детали подключения
- TUI регистрируется в шлюзе как `mode: "tui"`.
- Переподключения показывают системное сообщение; пропуски событий отображаются в логе.

## Опции
- `--url <url>`: URL WebSocket шлюза (по умолчанию из конфигурации или `ws://127.0.0.1:<port>`)
- `--token <token>`: токен шлюза (если требуется)
- `--password <password>`: пароль шлюза (если требуется)
- `--session <key>`: ключ сессии (по умолчанию: `main`, или `global`, когда область global)
- `--deliver`: доставлять ответы ассистента провайдеру (по умолчанию отключено)
- `--thinking <level>`: переопределить уровень размышления для отправок
- `--timeout-ms <ms>`: таймаут агента в мс (по умолчанию `agents.defaults.timeoutSeconds`)

## Устранение неполадок

Нет вывода после отправки сообщения:
- Запустите `/status` в TUI, чтобы подтвердить, что шлюз подключен и idle/busy.
- Проверьте логи шлюза: `openclaw logs --follow`.
- Подтвердите, что агент может работать: `openclaw status` и `openclaw models status`.
- Если вы ожидаете сообщения в чат-канале, включите доставку (`/deliver on` или `--deliver`).
- `--history-limit <n>`: записи истории для загрузки (по умолчанию 200)

## Устранение неполадок
- `disconnected`: убедитесь, что шлюз запущен и ваши `--url/--token/--password` правильные.
- Нет агентов в выборщике: проверьте `openclaw agents list` и вашу конфигурацию маршрутизации.
- Пустой выборщик сессий: вы можете быть в глобальной области или еще не иметь сессий.
