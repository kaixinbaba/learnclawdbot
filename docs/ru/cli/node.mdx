---
summary: "Справочник CLI для `openclaw node` (хост безголового узла)"
read_when:
  - Запуск хоста безголового узла
  - Сопряжение узла не-macOS для system.run
---

# `openclaw node`

Запускает **хост безголового узла**, который подключается к WebSocket шлюза и предоставляет
`system.run` / `system.which` на этой машине.

## Зачем использовать хост узла?

Используйте хост узла, когда вы хотите, чтобы агенты **выполняли команды на других машинах** в вашей
сети без установки полного приложения-компаньона macOS.

Типичные случаи использования:
- Выполнение команд на удаленных Linux/Windows машинах (серверы сборки, лабораторные машины, NAS).
- Сохранение exec **изолированным** на шлюзе, но делегирование одобренных запусков другим хостам.
- Предоставление легковесной безголовой цели выполнения для автоматизации или CI узлов.

Выполнение по-прежнему защищено **одобрениями exec** и списками разрешений для каждого агента на
хосте узла, поэтому вы можете ограничить и явно определить доступ к командам.

## Прокси браузера (нулевая конфигурация)

Хосты узлов автоматически анонсируют прокси браузера, если `browser.enabled` не
отключен на узле. Это позволяет агенту использовать автоматизацию браузера на этом узле
без дополнительной конфигурации.

Отключите это на узле при необходимости:

```json5
{
  nodeHost: {
    browserProxy: {
      enabled: false
    }
  }
}
```

## Запуск (на переднем плане)

```bash
openclaw node run --host <gateway-host> --port 18789
```

Опции:
- `--host <host>`: хост WebSocket шлюза (по умолчанию: `127.0.0.1`)
- `--port <port>`: порт WebSocket шлюза (по умолчанию: `18789`)
- `--tls`: использовать TLS для соединения со шлюзом
- `--tls-fingerprint <sha256>`: ожидаемый отпечаток TLS-сертификата (sha256)
- `--node-id <id>`: переопределить идентификатор узла (очищает токен сопряжения)
- `--display-name <name>`: переопределить отображаемое имя узла

## Служба (в фоновом режиме)

Установить хост безголового узла как пользовательскую службу.

```bash
openclaw node install --host <gateway-host> --port 18789
```

Опции:
- `--host <host>`: хост WebSocket шлюза (по умолчанию: `127.0.0.1`)
- `--port <port>`: порт WebSocket шлюза (по умолчанию: `18789`)
- `--tls`: использовать TLS для соединения со шлюзом
- `--tls-fingerprint <sha256>`: ожидаемый отпечаток TLS-сертификата (sha256)
- `--node-id <id>`: переопределить идентификатор узла (очищает токен сопряжения)
- `--display-name <name>`: переопределить отображаемое имя узла
- `--runtime <runtime>`: среда выполнения службы (`node` или `bun`)
- `--force`: переустановить/перезаписать, если уже установлено

Управление службой:

```bash
openclaw node status
openclaw node stop
openclaw node restart
openclaw node uninstall
```

Используйте `openclaw node run` для хоста узла на переднем плане (без службы).

Команды службы принимают `--json` для машиночитаемого вывода.

## Сопряжение

Первое соединение создает запрос на сопряжение ожидающего узла на шлюзе.
Одобрите его через:

```bash
openclaw nodes pending
openclaw nodes approve <requestId>
```

Хост узла сохраняет свой идентификатор узла, токен, отображаемое имя и информацию о соединении со шлюзом в
`~/.openclaw/node.json`.

## Одобрения exec

`system.run` защищен локальными одобрениями exec:

- `~/.openclaw/exec-approvals.json`
- [Одобрения exec](/tools/exec-approvals)
- `openclaw approvals --node <id|name|ip>` (редактирование со шлюза)
