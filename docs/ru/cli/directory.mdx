---
summary: "Справочник CLI для `openclaw directory` (self, peers, groups)"
read_when:
  - Вы хотите найти идентификаторы контактов/групп/себя для канала
  - Вы разрабатываете адаптер справочника канала
---

# `openclaw directory`

Поиск в справочнике для каналов, которые это поддерживают (контакты/пиры, группы и "я").

## Общие флаги
- `--channel <name>`: id/псевдоним канала (требуется когда настроено несколько каналов; автоматически когда настроен только один)
- `--account <id>`: id аккаунта (по умолчанию: аккаунт канала по умолчанию)
- `--json`: вывод JSON

## Примечания
- `directory` предназначен помочь вам найти ID, которые вы можете вставить в другие команды (особенно `openclaw message send --target ...`).
- Для многих каналов результаты основаны на конфигурации (списки разрешений / настроенные группы) а не на живом справочнике провайдера.
- Вывод по умолчанию — это `id` (и иногда `name`) разделённые табуляцией; используйте `--json` для скриптов.

## Использование результатов с `message send`

```bash
openclaw directory peers list --channel slack --query "U0"
openclaw message send --channel slack --target user:U012ABCDEF --message "hello"
```

## Форматы ID (по каналам)

- WhatsApp: `+15551234567` (DM), `1234567890-1234567890@g.us` (группа)
- Telegram: `@username` или числовой id чата; группы — это числовые id
- Slack: `user:U…` и `channel:C…`
- Discord: `user:<id>` и `channel:<id>`
- Matrix (плагин): `user:@user:server`, `room:!roomId:server`, или `#alias:server`
- Microsoft Teams (плагин): `user:<id>` и `conversation:<id>`
- Zalo (плагин): id пользователя (Bot API)
- Zalo Personal / `zalouser` (плагин): id треда (DM/группа) из `zca` (`me`, `friend list`, `group list`)

## Self ("я")

```bash
openclaw directory self --channel zalouser
```

## Peers (контакты/пользователи)

```bash
openclaw directory peers list --channel zalouser
openclaw directory peers list --channel zalouser --query "name"
openclaw directory peers list --channel zalouser --limit 50
```

## Группы

```bash
openclaw directory groups list --channel zalouser
openclaw directory groups list --channel zalouser --query "work"
openclaw directory groups members --channel zalouser --group-id <id>
```
