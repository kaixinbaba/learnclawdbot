---
summary: "Мониторинг истечения OAuth для провайдеров моделей"
read_when:
  - Настройка мониторинга истечения аутентификации или оповещений
  - Автоматизация проверок обновления OAuth для Claude Code / Codex
---
# Мониторинг аутентификации

OpenClaw предоставляет информацию о состоянии OAuth через `openclaw models status`. Используйте это для
автоматизации и оповещений; скрипты являются необязательными дополнениями для рабочих процессов на телефоне.

## Предпочтительно: проверка через CLI (портативно)

```bash
openclaw models status --check
```

Коды завершения:
- `0`: OK
- `1`: истекшие или отсутствующие учетные данные
- `2`: скоро истекут (в течение 24 часов)

Это работает в cron/systemd и не требует дополнительных скриптов.

## Необязательные скрипты (для операций / рабочих процессов на телефоне)

Они находятся в `scripts/` и являются **необязательными**. Они предполагают SSH-доступ к
хосту шлюза и настроены для systemd + Termux.

- `scripts/claude-auth-status.sh` теперь использует `openclaw models status --json` как
  источник истины (с возвратом к прямому чтению файлов, если CLI недоступен),
  поэтому держите `openclaw` в `PATH` для таймеров.
- `scripts/auth-monitor.sh`: цель таймера cron/systemd; отправляет оповещения (ntfy или телефон).
- `scripts/systemd/openclaw-auth-monitor.{service,timer}`: пользовательский таймер systemd.
- `scripts/claude-auth-status.sh`: проверка аутентификации Claude Code + OpenClaw (full/json/simple).
- `scripts/mobile-reauth.sh`: управляемый процесс повторной аутентификации через SSH.
- `scripts/termux-quick-auth.sh`: виджет одним касанием для проверки статуса + открытие URL аутентификации.
- `scripts/termux-auth-widget.sh`: полный управляемый процесс виджета.
- `scripts/termux-sync-widget.sh`: синхронизация учетных данных Claude Code → OpenClaw.

Если вам не нужна автоматизация на телефоне или таймеры systemd, пропустите эти скрипты.
