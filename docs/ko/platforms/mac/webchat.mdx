---
summary: "mac 앱이 gateway WebChat을 내장하는 방법과 디버깅 방법"
read_when:
  - mac WebChat 뷰 또는 루프백 포트 디버깅 시
---
# WebChat (macOS 앱)

macOS 메뉴 바 앱은 WebChat UI를 네이티브 SwiftUI 뷰로 내장합니다. Gateway에 연결하고
선택된 에이전트의 **main 세션**을 기본값으로 사용합니다 (다른 세션을 위한 세션 스위처 포함).

- **로컬 모드**: 로컬 Gateway WebSocket에 직접 연결.
- **Remote 모드**: SSH를 통해 Gateway 제어 포트를 포워드하고 해당 터널을 데이터 플레인으로
  사용.

## 시작 및 디버깅

- 수동: Lobster 메뉴 → "Open Chat".
- 테스트를 위한 자동 열기:
  ```bash
  dist/OpenClaw.app/Contents/MacOS/OpenClaw --webchat
  ```
- 로그: `./scripts/clawlog.sh` (서브시스템 `bot.molt`, 카테고리 `WebChatSwiftUI`).

## 연결 방식

- 데이터 플레인: Gateway WS 메서드 `chat.history`, `chat.send`, `chat.abort`,
  `chat.inject` 및 이벤트 `chat`, `agent`, `presence`, `tick`, `health`.
- 세션: 기본 세션 (`main`, 또는 scope가 global일 때 `global`)을 기본값으로 사용. UI는
  세션 간 전환 가능.
- 온보딩은 첫 실행 설정을 별도로 유지하기 위해 전용 세션 사용.

## 보안 인터페이스

- Remote 모드는 SSH를 통해 Gateway WebSocket 제어 포트만 포워드.

## 알려진 제한 사항

- UI는 채팅 세션에 최적화되어 있습니다 (전체 브라우저 샌드박스 아님).
