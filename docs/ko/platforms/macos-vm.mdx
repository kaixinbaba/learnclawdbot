---
summary: "격리 또는 iMessage가 필요할 때 샌드박스된 macOS VM(로컬 또는 호스팅)에서 OpenClaw 실행"
read_when:
  - OpenClaw를 주 macOS 환경에서 격리하고 싶을 때
  - 샌드박스에서 iMessage 통합 (BlueBubbles)을 원할 때
  - 복제할 수 있는 재설정 가능한 macOS 환경을 원할 때
  - 로컬 vs 호스팅 macOS VM 옵션을 비교하고 싶을 때
---

# macOS VM에서 OpenClaw 실행 (샌드박싱)

## 권장 기본값 (대부분의 사용자)

- 상시 가동 Gateway와 저렴한 비용을 위한 **작은 Linux VPS**. [VPS 호스팅](/vps)을 참조하세요.
- 완전한 제어와 브라우저 자동화를 위한 **주거용 IP**를 원한다면 **전용 하드웨어** (Mac mini 또는 Linux 박스). 많은 사이트가 데이터센터 IP를 차단하므로 로컬 브라우징이 더 잘 작동합니다.
- **하이브리드:** 저렴한 VPS에 Gateway를 유지하고 브라우저/UI 자동화가 필요할 때 Mac을 **node**로 연결하세요. [Nodes](/nodes) 및 [Gateway 원격](/gateway/remote)을 참조하세요.

macOS 전용 기능(iMessage/BlueBubbles)이 필요하거나 일상적인 Mac과의 엄격한 격리를 원할 때 macOS VM을 사용하세요.

## macOS VM 옵션

### Apple Silicon Mac의 로컬 VM (Lume)

[Lume](https://cua.ai/docs/lume)을 사용하여 기존 Apple Silicon Mac에서 샌드박스된 macOS VM으로 OpenClaw를 실행하세요.

이를 통해 얻을 수 있는 것:
- 격리된 전체 macOS 환경 (호스트는 깨끗하게 유지)
- BlueBubbles를 통한 iMessage 지원 (Linux/Windows에서는 불가능)
- VM 복제를 통한 즉시 재설정
- 추가 하드웨어 또는 클라우드 비용 없음

### 호스팅 Mac 제공업체 (클라우드)

클라우드에서 macOS를 원한다면, 호스팅 Mac 제공업체도 작동합니다:
- [MacStadium](https://www.macstadium.com/) (호스팅 Macs)
- 다른 호스팅 Mac 벤더도 작동합니다; VM + SSH 문서를 따르세요

macOS VM에 SSH 접근이 가능하면, 아래 6단계에서 계속하세요.

---

## 빠른 경로 (Lume, 숙련된 사용자)

1. Lume 설치
2. `lume create openclaw --os macos --ipsw latest`
3. Setup Assistant 완료, Remote Login (SSH) 활성화
4. `lume run openclaw --no-display`
5. SSH로 접속, OpenClaw 설치, channels 구성
6. 완료

---

## 필요한 것 (Lume)

- Apple Silicon Mac (M1/M2/M3/M4)
- 호스트에서 macOS Sequoia 이상
- VM당 ~60 GB 여유 디스크 공간
- ~20분

---

## 1) Lume 설치

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/trycua/cua/main/libs/lume/scripts/install.sh)"
```

`~/.local/bin`이 PATH에 없는 경우:

```bash
echo 'export PATH="$PATH:$HOME/.local/bin"' >> ~/.zshrc && source ~/.zshrc
```

확인:

```bash
lume --version
```

문서: [Lume 설치](https://cua.ai/docs/lume/guide/getting-started/installation)

---

## 2) macOS VM 생성

```bash
lume create openclaw --os macos --ipsw latest
```

이것은 macOS를 다운로드하고 VM을 생성합니다. VNC 창이 자동으로 열립니다.

참고: 다운로드는 연결 상태에 따라 시간이 걸릴 수 있습니다.

---

## 3) Setup Assistant 완료

VNC 창에서:
1. 언어 및 지역 선택
2. Apple ID 건너뛰기 (나중에 iMessage를 원하면 로그인)
3. 사용자 계정 생성 (사용자 이름과 비밀번호를 기억하세요)
4. 모든 선택적 기능 건너뛰기

설정 완료 후 SSH 활성화:
1. 시스템 설정 → 일반 → 공유 열기
2. "원격 로그인" 활성화

---

## 4) VM의 IP 주소 가져오기

```bash
lume get openclaw
```

IP 주소를 찾으세요 (보통 `192.168.64.x`).

---

## 5) VM에 SSH 접속

```bash
ssh youruser@192.168.64.X
```

`youruser`를 생성한 계정으로, IP를 VM의 IP로 바꾸세요.

---

## 6) OpenClaw 설치

VM 내부에서:

```bash
npm install -g openclaw@latest
openclaw onboard --install-daemon
```

온보딩 프롬프트에 따라 model 제공업체 (Anthropic, OpenAI 등)를 설정하세요.

---

## 7) Channels 구성

구성 파일 편집:

```bash
nano ~/.openclaw/openclaw.json
```

channels 추가:

```json
{
  "channels": {
    "whatsapp": {
      "dmPolicy": "allowlist",
      "allowFrom": ["+15551234567"]
    },
    "telegram": {
      "botToken": "YOUR_BOT_TOKEN"
    }
  }
}
```

그런 다음 WhatsApp 로그인 (QR 스캔):

```bash
openclaw channels login
```

---

## 8) VM을 헤드리스로 실행

VM을 중지하고 디스플레이 없이 재시작:

```bash
lume stop openclaw
lume run openclaw --no-display
```

VM이 백그라운드에서 실행됩니다. OpenClaw의 daemon이 gateway를 계속 실행합니다.

상태 확인:

```bash
ssh youruser@192.168.64.X "openclaw status"
```

---

## 보너스: iMessage 통합

이것이 macOS에서 실행하는 킬러 기능입니다. [BlueBubbles](https://bluebubbles.app)를 사용하여 OpenClaw에 iMessage를 추가하세요.

VM 내부에서:

1. bluebubbles.app에서 BlueBubbles 다운로드
2. Apple ID로 로그인
3. Web API를 활성화하고 비밀번호 설정
4. BlueBubbles webhook을 gateway로 지정 (예: `https://your-gateway-host:3000/bluebubbles-webhook?password=<password>`)

OpenClaw 구성에 추가:

```json
{
  "channels": {
    "bluebubbles": {
      "serverUrl": "http://localhost:1234",
      "password": "your-api-password",
      "webhookPath": "/bluebubbles-webhook"
    }
  }
}
```

Gateway를 재시작합니다. 이제 agent가 iMessage를 보내고 받을 수 있습니다.

전체 설정 세부사항: [BlueBubbles channel](/channels/bluebubbles)

---

## 골든 이미지 저장

추가 커스터마이징 전에 깨끗한 상태를 스냅샷하세요:

```bash
lume stop openclaw
lume clone openclaw openclaw-golden
```

언제든지 재설정:

```bash
lume stop openclaw && lume delete openclaw
lume clone openclaw-golden openclaw
lume run openclaw --no-display
```

---

## 24/7 실행

다음을 통해 VM을 계속 실행:
- Mac을 플러그인한 상태로 유지
- 시스템 설정 → Energy Saver에서 절전 비활성화
- 필요한 경우 `caffeinate` 사용

진정한 상시 가동을 위해서는 전용 Mac mini 또는 작은 VPS를 고려하세요. [VPS 호스팅](/vps)을 참조하세요.

---

## 문제 해결

| 문제 | 해결책 |
|---------|----------|
| VM에 SSH 접속할 수 없음 | VM의 시스템 설정에서 "원격 로그인"이 활성화되어 있는지 확인 |
| VM IP가 표시되지 않음 | VM이 완전히 부팅될 때까지 기다렸다가 `lume get openclaw` 재실행 |
| Lume 명령을 찾을 수 없음 | PATH에 `~/.local/bin` 추가 |
| WhatsApp QR 스캔 안 됨 | `openclaw channels login` 실행 시 VM(호스트 아님)에 로그인되어 있는지 확인 |

---

## 관련 문서

- [VPS 호스팅](/vps)
- [Nodes](/nodes)
- [Gateway 원격](/gateway/remote)
- [BlueBubbles channel](/channels/bluebubbles)
- [Lume 빠른 시작](https://cua.ai/docs/lume/guide/getting-started/quickstart)
- [Lume CLI 참조](https://cua.ai/docs/lume/reference/cli-reference)
- [무인 VM 설정](https://cua.ai/docs/lume/guide/fundamentals/unattended-setup) (고급)
- [Docker 샌드박싱](/install/docker) (대체 격리 방법)
