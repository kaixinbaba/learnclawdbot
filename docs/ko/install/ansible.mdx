---
summary: "Ansible, Tailscale VPN ë° ë°©í™”ë²½ ê²©ë¦¬ë¥¼ ì‚¬ìš©í•œ ìë™í™”ë˜ê³  ê°•í™”ëœ OpenClaw ì„¤ì¹˜"
read_when:
  - ë³´ì•ˆ ê°•í™”ë¥¼ í†µí•œ ìë™í™”ëœ ì„œë²„ ë°°í¬ë¥¼ ì›í•˜ëŠ” ê²½ìš°
  - VPN ì•¡ì„¸ìŠ¤ë¥¼ í†µí•œ ë°©í™”ë²½ ê²©ë¦¬ ì„¤ì •ì´ í•„ìš”í•œ ê²½ìš°
  - ì›ê²© Debian/Ubuntu ì„œë²„ì— ë°°í¬í•˜ëŠ” ê²½ìš°
---

# Ansible ì„¤ì¹˜

í”„ë¡œë•ì…˜ ì„œë²„ì— OpenClawë¥¼ ë°°í¬í•˜ëŠ” ê¶Œì¥ ë°©ë²•ì€ **[openclaw-ansible](https://github.com/openclaw/openclaw-ansible)** â€” ë³´ì•ˆ ìš°ì„  ì•„í‚¤í…ì²˜ë¥¼ ê°–ì¶˜ ìë™í™”ëœ ì„¤ì¹˜ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

## ë¹ ë¥¸ ì‹œì‘

í•œ ì¤„ ëª…ë ¹ ì„¤ì¹˜:

```bash
curl -fsSL https://raw.githubusercontent.com/openclaw/openclaw-ansible/main/install.sh | bash
```

> **ğŸ“¦ ì „ì²´ ê°€ì´ë“œ: [github.com/openclaw/openclaw-ansible](https://github.com/openclaw/openclaw-ansible)**
>
> openclaw-ansible ì €ì¥ì†Œê°€ Ansible ë°°í¬ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ì…ë‹ˆë‹¤. ì´ í˜ì´ì§€ëŠ” ë¹ ë¥¸ ê°œìš”ì…ë‹ˆë‹¤.

## ì œê³µë˜ëŠ” ê¸°ëŠ¥

- ğŸ”’ **ë°©í™”ë²½ ìš°ì„  ë³´ì•ˆ**: UFW + Docker ê²©ë¦¬ (SSH + Tailscaleë§Œ ì ‘ê·¼ ê°€ëŠ¥)
- ğŸ” **Tailscale VPN**: ì„œë¹„ìŠ¤ë¥¼ ê³µê°œì ìœ¼ë¡œ ë…¸ì¶œí•˜ì§€ ì•Šê³  ì•ˆì „í•œ ì›ê²© ì•¡ì„¸ìŠ¤
- ğŸ³ **Docker**: ê²©ë¦¬ëœ sandbox ì»¨í…Œì´ë„ˆ, localhost ì „ìš© ë°”ì¸ë”©
- ğŸ›¡ï¸ **ì‹¬ì¸µ ë°©ì–´**: 4ê³„ì¸µ ë³´ì•ˆ ì•„í‚¤í…ì²˜
- ğŸš€ **í•œ ì¤„ ëª…ë ¹ ì„¤ì •**: ëª‡ ë¶„ ì•ˆì— ì™„ì „í•œ ë°°í¬
- ğŸ”§ **Systemd í†µí•©**: ê°•í™”ì™€ í•¨ê»˜ ë¶€íŒ… ì‹œ ìë™ ì‹œì‘

## ìš”êµ¬ ì‚¬í•­

- **OS**: Debian 11+ ë˜ëŠ” Ubuntu 20.04+
- **ì•¡ì„¸ìŠ¤**: Root ë˜ëŠ” sudo ê¶Œí•œ
- **ë„¤íŠ¸ì›Œí¬**: íŒ¨í‚¤ì§€ ì„¤ì¹˜ë¥¼ ìœ„í•œ ì¸í„°ë„· ì—°ê²°
- **Ansible**: 2.14+ (ë¹ ë¥¸ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ë¡œ ìë™ ì„¤ì¹˜)

## ì„¤ì¹˜ë˜ëŠ” í•­ëª©

Ansible playbookì€ ë‹¤ìŒì„ ì„¤ì¹˜í•˜ê³  êµ¬ì„±í•©ë‹ˆë‹¤:

1. **Tailscale** (ì•ˆì „í•œ ì›ê²© ì•¡ì„¸ìŠ¤ë¥¼ ìœ„í•œ mesh VPN)
2. **UFW ë°©í™”ë²½** (SSH + Tailscale í¬íŠ¸ë§Œ)
3. **Docker CE + Compose V2** (agent sandboxìš©)
4. **Node.js 22.x + pnpm** (ëŸ°íƒ€ì„ ì˜ì¡´ì„±)
5. **OpenClaw** (í˜¸ìŠ¤íŠ¸ ê¸°ë°˜, ì»¨í…Œì´ë„ˆí™”ë˜ì§€ ì•ŠìŒ)
6. **Systemd ì„œë¹„ìŠ¤** (ë³´ì•ˆ ê°•í™”ì™€ í•¨ê»˜ ìë™ ì‹œì‘)

ì°¸ê³ : GatewayëŠ” **í˜¸ìŠ¤íŠ¸ì—ì„œ ì§ì ‘** ì‹¤í–‰ë˜ì§€ë§Œ(Dockerì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ), agent sandboxëŠ” ê²©ë¦¬ë¥¼ ìœ„í•´ Dockerë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Sandboxing](/gateway/sandboxing)ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ì„¤ì¹˜ í›„ ì„¤ì •

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ openclaw ì‚¬ìš©ìë¡œ ì „í™˜í•˜ì„¸ìš”:

```bash
sudo -i -u openclaw
```

ì„¤ì¹˜ í›„ ìŠ¤í¬ë¦½íŠ¸ê°€ ë‹¤ìŒ ê³¼ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤:

1. **ì˜¨ë³´ë”© ë§ˆë²•ì‚¬**: OpenClaw ì„¤ì • êµ¬ì„±
2. **Provider ë¡œê·¸ì¸**: WhatsApp/Telegram/Discord/Signal ì—°ê²°
3. **Gateway í…ŒìŠ¤íŠ¸**: ì„¤ì¹˜ í™•ì¸
4. **Tailscale ì„¤ì •**: VPN mesh ì—°ê²°

### ë¹ ë¥¸ ëª…ë ¹

```bash
# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status openclaw

# ì‹¤ì‹œê°„ ë¡œê·¸ ë³´ê¸°
sudo journalctl -u openclaw -f

# Gateway ì¬ì‹œì‘
sudo systemctl restart openclaw

# Provider ë¡œê·¸ì¸ (openclaw ì‚¬ìš©ìë¡œ ì‹¤í–‰)
sudo -i -u openclaw
openclaw channels login
```

## ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 4ê³„ì¸µ ë°©ì–´

1. **ë°©í™”ë²½ (UFW)**: SSH (22) + Tailscale (41641/udp)ë§Œ ê³µê°œì ìœ¼ë¡œ ë…¸ì¶œ
2. **VPN (Tailscale)**: VPN meshë¥¼ í†µí•´ì„œë§Œ Gateway ì•¡ì„¸ìŠ¤ ê°€ëŠ¥
3. **Docker ê²©ë¦¬**: DOCKER-USER iptables ì²´ì¸ì´ ì™¸ë¶€ í¬íŠ¸ ë…¸ì¶œ ë°©ì§€
4. **Systemd ê°•í™”**: NoNewPrivileges, PrivateTmp, ë¹„ê¶Œí•œ ì‚¬ìš©ì

### ê²€ì¦

ì™¸ë¶€ ê³µê²© í‘œë©´ í…ŒìŠ¤íŠ¸:

```bash
nmap -p- YOUR_SERVER_IP
```

**í¬íŠ¸ 22** (SSH)ë§Œ ì—´ë ¤ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ëª¨ë“  ì„œë¹„ìŠ¤(Gateway, Docker)ëŠ” ì ê²¨ ìˆìŠµë‹ˆë‹¤.

### Docker ê°€ìš©ì„±

DockerëŠ” Gateway ìì²´ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **agent sandbox** (ê²©ë¦¬ëœ ë„êµ¬ ì‹¤í–‰)ìš©ìœ¼ë¡œ ì„¤ì¹˜ë©ë‹ˆë‹¤. GatewayëŠ” localhostì—ë§Œ ë°”ì¸ë”©ë˜ë©° Tailscale VPNì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

sandbox êµ¬ì„±ì— ëŒ€í•œ ë‚´ìš©ì€ [Multi-Agent Sandbox & Tools](/multi-agent-sandbox-tools)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ìˆ˜ë™ ì„¤ì¹˜

ìë™í™”ë³´ë‹¤ ìˆ˜ë™ ì œì–´ë¥¼ ì„ í˜¸í•˜ëŠ” ê²½ìš°:

```bash
# 1. ì „ì œ ì¡°ê±´ ì„¤ì¹˜
sudo apt update && sudo apt install -y ansible git

# 2. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/openclaw/openclaw-ansible.git
cd openclaw-ansible

# 3. Ansible ì»¬ë ‰ì…˜ ì„¤ì¹˜
ansible-galaxy collection install -r requirements.yml

# 4. playbook ì‹¤í–‰
./run-playbook.sh

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰ (ì´í›„ /tmp/openclaw-setup.shë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì‹¤í–‰)
# ansible-playbook playbook.yml --ask-become-pass
```

## OpenClaw ì—…ë°ì´íŠ¸

Ansible ì„¤ì¹˜ í”„ë¡œê·¸ë¨ì€ ìˆ˜ë™ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ OpenClawë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. í‘œì¤€ ì—…ë°ì´íŠ¸ í”Œë¡œìš°ëŠ” [Updating](/install/updating)ì„ ì°¸ì¡°í•˜ì„¸ìš”.

Ansible playbookì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ë ¤ë©´ (ì˜ˆ: êµ¬ì„± ë³€ê²½):

```bash
cd openclaw-ansible
./run-playbook.sh
```

ì°¸ê³ : ì´ê²ƒì€ ë©±ë“±ì„±ì´ ìˆìœ¼ë©° ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ë„ ì•ˆì „í•©ë‹ˆë‹¤.

## ë¬¸ì œ í•´ê²°

### ë°©í™”ë²½ì´ ì—°ê²°ì„ ì°¨ë‹¨í•¨

ì ê¸ˆëœ ê²½ìš°:
- ë¨¼ì € Tailscale VPNì„ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”
- SSH ì•¡ì„¸ìŠ¤(í¬íŠ¸ 22)ëŠ” í•­ìƒ í—ˆìš©ë©ë‹ˆë‹¤
- GatewayëŠ” ì„¤ê³„ìƒ **Tailscaleì„ í†µí•´ì„œë§Œ** ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ì„œë¹„ìŠ¤ê°€ ì‹œì‘ë˜ì§€ ì•ŠìŒ

```bash
# ë¡œê·¸ í™•ì¸
sudo journalctl -u openclaw -n 100

# ê¶Œí•œ í™•ì¸
sudo ls -la /opt/openclaw

# ìˆ˜ë™ ì‹œì‘ í…ŒìŠ¤íŠ¸
sudo -i -u openclaw
cd ~/openclaw
pnpm start
```

### Docker sandbox ë¬¸ì œ

```bash
# Dockerê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
sudo systemctl status docker

# sandbox ì´ë¯¸ì§€ í™•ì¸
sudo docker images | grep openclaw-sandbox

# sandbox ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° ë¹Œë“œ
cd /opt/openclaw/openclaw
sudo -u openclaw ./scripts/sandbox-setup.sh
```

### Provider ë¡œê·¸ì¸ ì‹¤íŒ¨

`openclaw` ì‚¬ìš©ìë¡œ ì‹¤í–‰í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

```bash
sudo -i -u openclaw
openclaw channels login
```

## ê³ ê¸‰ êµ¬ì„±

ìì„¸í•œ ë³´ì•ˆ ì•„í‚¤í…ì²˜ ë° ë¬¸ì œ í•´ê²°:
- [ë³´ì•ˆ ì•„í‚¤í…ì²˜](https://github.com/openclaw/openclaw-ansible/blob/main/docs/security.md)
- [ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­](https://github.com/openclaw/openclaw-ansible/blob/main/docs/architecture.md)
- [ë¬¸ì œ í•´ê²° ê°€ì´ë“œ](https://github.com/openclaw/openclaw-ansible/blob/main/docs/troubleshooting.md)

## ê´€ë ¨ ìë£Œ

- [openclaw-ansible](https://github.com/openclaw/openclaw-ansible) â€” ì „ì²´ ë°°í¬ ê°€ì´ë“œ
- [Docker](/install/docker) â€” ì»¨í…Œì´ë„ˆí™”ëœ Gateway ì„¤ì •
- [Sandboxing](/gateway/sandboxing) â€” agent sandbox êµ¬ì„±
- [Multi-Agent Sandbox & Tools](/multi-agent-sandbox-tools) â€” agentë‹¹ ê²©ë¦¬
